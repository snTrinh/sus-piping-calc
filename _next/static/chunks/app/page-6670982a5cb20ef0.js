(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{24343:(e,l,t)=>{Promise.resolve().then(t.bind(t,54581)),Promise.resolve().then(t.bind(t,35158))},35158:(e,l,t)=>{"use strict";t.d(l,{default:()=>X});var s=t(95155),i=t(12115),n=t(54581),r=t(50785),a=t(71116),d=t(29267),o=t(18096),x=t(74637),c=t(41218),p=t(68534),u=t(51368),h=t(16324),m=t(35044);function f(){let e=(0,h.A)(),l=(0,m.GV)(e=>e.single.global.e),t=(0,m.GV)(e=>e.single.global.w),i=(0,m.GV)(e=>e.single.global.gamma),r=(0,m.GV)(e=>e.single.global.millTol);return(0,s.jsxs)(n.default,{sx:{backgroundColor:e.palette.background.default,p:2,borderRadius:1,overflow:"hidden"},children:[(0,s.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:"bold",mb:1},children:"Required Thickness (ASME B31.3):"}),(0,s.jsxs)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:[(0,s.jsx)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"tᵣ = ("}),(0,s.jsxs)(n.default,{sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:1},children:[(0,s.jsx)(n.default,{sx:{borderBottom:"1px solid ".concat(e.palette.text.primary," !important"),px:.5,textAlign:"center",whiteSpace:"nowrap"},children:"(P \xd7 D)"}),(0,s.jsx)(n.default,{sx:{px:.5,mt:.2,whiteSpace:"nowrap",textAlign:"center"},children:"[2(SEW + Pγ)]"})]}),(0,s.jsx)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"+ CA )"}),(0,s.jsx)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"\xd7"}),(0,s.jsxs)(n.default,{sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:1,whiteSpace:"nowrap",ml:1},children:[(0,s.jsx)(n.default,{sx:{borderBottom:"1px solid ".concat(e.palette.text.primary," !important"),px:.5,mt:.3,textAlign:"center"},children:"1"}),(0,s.jsx)(n.default,{sx:{px:.5,mt:.2,textAlign:"center"},children:"(1 - Mill Tolerance)"})]})]}),(0,s.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:"bold",mb:1,mt:2},children:"Assumptions:"}),(0,s.jsx)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,s.jsxs)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Weld Joint Efficiency, E = ",(0,s.jsx)("strong",{children:l})]})}),(0,s.jsx)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,s.jsxs)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Weld Strength Reduction Factor, W = ",(0,s.jsx)("strong",{children:t})]})}),(0,s.jsx)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,s.jsxs)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Temperature Coefficient, γ = ",(0,s.jsx)("strong",{children:i})]})}),(0,s.jsx)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,s.jsxs)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Mill Tolerance Factor, % = ",(0,s.jsxs)("strong",{children:[100*r,"%"]})]})})]})}var g=t(84602),j=t(34540),v=t(89910),y=t(34387);let b={display:"flex",alignItems:"center",marginBottom:8},A={fontWeight:"bold",minWidth:220,marginRight:8,whiteSpace:"nowrap"},w={minWidth:100,textAlign:"right",marginRight:8},W={minWidth:80},C=e=>{let{drawingInfo:l,designParamsSingle:t,designParamsMultiple:i,isMultiple:r=!1}=e,a=(0,j.d4)(e=>e.single.global),{pressure:d,temperature:o,selectedMaterial:x}=(0,j.d4)(e=>e.single),c=(0,j.d4)(e=>e.single.currentUnit),p=v.sR.pressure[c],u=v.sR.temperature[c],h=v.sR.length[c],m=(0,y.p)(x,c,o);return(0,s.jsx)(n.default,{sx:{mb:4},children:(r?i||[]:t?[t]:[]).map((e,t)=>(0,s.jsxs)(n.default,{sx:{mb:2,borderBottom:"1px solid #ddd",pb:1},children:[(0,s.jsxs)("div",{style:b,children:[(0,s.jsxs)("div",{style:A,children:["Drawing Number: ",l.drawingNumber]}),(0,s.jsxs)("div",{style:A,children:["Revision: ",l.calculationRevision]}),(0,s.jsxs)("div",{style:A,children:["Date: ",l.date]})]}),(0,s.jsxs)("div",{style:b,children:[(0,s.jsx)("div",{style:A,children:"Design Pressure:"}),(0,s.jsx)("div",{style:w,children:p.to(d).toFixed(2)}),(0,s.jsx)("div",{style:W,children:p.unit})]}),(0,s.jsxs)("div",{style:b,children:[(0,s.jsx)("div",{style:A,children:"Design Temperature:"}),(0,s.jsx)("div",{style:w,children:u.to(o).toFixed(0)}),(0,s.jsx)("div",{style:W,children:u.unit})]}),(0,s.jsxs)("div",{style:b,children:[(0,s.jsx)("div",{style:A,children:"Corrosion Allowance:"}),(0,s.jsx)("div",{style:w,children:a.corrosionAllowance}),(0,s.jsx)("div",{style:W,children:h.unit})]}),(0,s.jsxs)("div",{style:b,children:[(0,s.jsx)("div",{style:A,children:"Maximum Allowable Stress:"}),(0,s.jsx)("div",{style:w,children:p.to(m).toFixed(2)}),(0,s.jsx)("div",{style:W,children:p.unit})]}),(0,s.jsxs)("div",{style:b,children:[(0,s.jsx)("div",{style:A,children:"Temperature Coefficient, γ:"}),(0,s.jsx)("div",{style:w,children:a.gamma}),(0,s.jsx)("div",{style:W})]})]},t))})};var S=t(64458);let D={marginBottom:8,display:"block"},P={display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:12,lineHeight:1,marginLeft:4,marginRight:4},F={padding:"0 4px",textAlign:"center"},R=e=>{let{pipes:l}=e,t=(0,h.A)(),{selectedMaterial:i,pressure:n}=(0,j.d4)(e=>e.single),{corrosionAllowance:r,gamma:a,e:d,w:o,millTol:x}=(0,j.d4)(e=>e.single.global),c=(0,j.d4)(e=>e.single.currentUnit),p=1-x,u={padding:"0 4px",marginTop:2,textAlign:"center",borderTop:"1px solid ".concat(t.palette.text.primary)};return(0,s.jsx)(s.Fragment,{children:l.map((e,l)=>{let h=v.sR.length[c],m=v.sR.pressure[c],f=e.od,g=e.t,j=e.allowableStress,y=e.tRequired,b=n*f,A=2*(j*d*o+n*a);return(0,s.jsxs)("div",{style:{marginTop:16},children:[(0,s.jsxs)("div",{style:D,children:[(0,s.jsxs)("strong",{children:["Pipe ",l+1," — For "]}),c===S.W.Metric?(0,s.jsxs)(s.Fragment,{children:["DN ",e.dn," "]}):(0,s.jsxs)(s.Fragment,{children:["NPS ",e.nps,'" ']}),"SCH ",e.schedule," ",i," (D=",f.toFixed(3),h.unit,", t ="," ",g.toFixed(3),h.unit,"):"]}),(0,s.jsxs)("div",{style:{marginTop:8,marginLeft:24},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"tᵣ = ("}),(0,s.jsxs)("span",{style:P,children:[(0,s.jsx)("span",{style:F,children:"P \xd7 D"}),(0,s.jsx)("span",{style:u,children:"2(SEW + Pγ)"})]}),(0,s.jsx)("span",{children:"+ CA ) \xd7 "}),(0,s.jsxs)("span",{style:P,children:[(0,s.jsx)("span",{style:F,children:"1"}),(0,s.jsx)("span",{style:u,children:"(1 - Mill Tolerance)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"tᵣ = ("}),(0,s.jsxs)("span",{style:P,children:[(0,s.jsxs)("span",{style:F,children:[n.toFixed(2),m.unit," \xd7"," ",f.toFixed(3),h.unit]}),(0,s.jsxs)("span",{style:u,children:["2((",j.toFixed(2),m.unit,")(",d,")(",o,") + (",n.toFixed(2),m.unit,")(",a,"))"]})]}),(0,s.jsxs)("span",{children:["+ ",r.toFixed(4),h.unit,") \xd7"," "]}),(0,s.jsxs)("span",{style:P,children:[(0,s.jsx)("span",{style:F,children:"1"}),(0,s.jsxs)("span",{style:u,children:["(1 - ",x.toFixed(3),")"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"tᵣ = ("}),(0,s.jsxs)("span",{style:P,children:[(0,s.jsx)("span",{style:F,children:b.toFixed(2)}),(0,s.jsx)("span",{style:u,children:A.toFixed(2)})]}),(0,s.jsxs)("span",{children:[h.unit," + ",r.toFixed(4),h.unit,") \xd7"," "]}),(0,s.jsxs)("span",{style:P,children:[(0,s.jsx)("span",{style:F,children:"1"}),(0,s.jsxs)("span",{style:u,children:["(",p.toFixed(3),")"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{children:["tᵣ = (",(b/A).toFixed(4)]}),(0,s.jsxs)("span",{children:[h.unit," + ",r.toFixed(4),h.unit,") \xd7"," "]}),(0,s.jsxs)("span",{style:P,children:[(0,s.jsx)("span",{style:F,children:"1"}),(0,s.jsxs)("span",{style:u,children:["(",p.toFixed(3),")"]})]})]})]}),(0,s.jsx)("div",{style:{marginTop:8,marginLeft:24},children:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:["tᵣ = ",y.toFixed(3)," ",h.unit]})})}),(0,s.jsx)("div",{style:{marginTop:8},children:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:["t ",g>y?">":"<"," tᵣ ∴"," ",g>y?(0,s.jsx)("span",{style:{color:t.palette.success.main,fontWeight:"bold"},children:"Acceptable"}):(0,s.jsx)("span",{style:{color:t.palette.error.main,fontWeight:"bold"},children:"Not Acceptable"})]})})})]},e.id)})})},I=(0,i.forwardRef)((e,l)=>{let{drawingInfo:t,pipes:i,isMultiple:n=!1}=e,r=(0,h.A)(),a=(0,j.d4)(e=>e.single.global),d=(0,j.d4)(e=>e.single.pressure),o=(0,j.d4)(e=>e.single.temperature),x=n?i:[i[0]].filter(Boolean);return(0,s.jsxs)("div",{ref:l,style:{padding:10,maxWidth:600,fontSize:12,fontFamily:"'Calibri', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:r.palette.text.primary},children:[x.map((e,l)=>{let i={pressure:null!=d?d:0,temperature:null!=o?o:0,allowableStress:e.allowableStress,corrosionAllowance:a.corrosionAllowance,gamma:a.gamma,e:a.e,w:a.w,millTol:a.millTol};return(0,s.jsx)(C,{drawingInfo:{...t,calculationRevision:t.calculationRevision+(n?".".concat(l+1):"")},designParamsMultiple:n?[i]:void 0,designParamsSingle:n?void 0:i,isMultiple:n},e.id)}),(0,s.jsx)(R,{pipes:i,isMultiple:n})]})});I.displayName="PdfContent";var k=t(84239);function N(e){let{pipes:l}=e,r=(0,i.useRef)(null),[a,d]=(0,i.useState)(""),[o,x]=(0,i.useState)("0"),[c,u]=(0,i.useState)("0"),[h,m]=(0,i.useState)(()=>new Date().toISOString().split("T")[0]),f=(0,i.useRef)(null);(0,i.useEffect)(()=>{Promise.all([t.e(930),t.e(628),t.e(316),t.e(913)]).then(t.t.bind(t,86608,23)).then(e=>{f.current=e.default||e})},[]);let j={xs:"1 1 100%",sm:"1 1 calc(50% - 8px)",md:"1 1 0%"};return(0,s.jsxs)(n.default,{sx:{mb:4,p:3,bgcolor:"background.paper",borderRadius:2,border:"1px solid #ddd"},children:[(0,s.jsxs)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[(0,s.jsx)(g.A,{label:"Drawing Number".concat(a?", ".concat(a):""),value:a,onChange:e=>d(e.target.value),size:"small",sx:{flex:j,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,s.jsx)(g.A,{label:"Drawing Revision Number",value:o,onChange:e=>x(e.target.value),size:"small",sx:{flex:j,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,s.jsx)(g.A,{label:"Calculation Revision Number",value:c,onChange:e=>u(e.target.value),size:"small",sx:{flex:j,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,s.jsx)(g.A,{label:"Date",type:"date",value:h,onChange:e=>m(e.target.value),size:"small",sx:{flex:j,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,s.jsx)(p.A,{variant:"outlined",startIcon:(0,s.jsx)(k.A,{}),onClick:()=>{r.current&&f.current&&f.current().set({margin:1,filename:"Drawing-".concat(a||"N/A","-Rev").concat(o||"0","-").concat(h,".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(r.current).save()},sx:{flex:j,minWidth:180},children:"Download PDF"})]}),(0,s.jsx)(I,{ref:r,drawingInfo:{drawingNumber:a,drawingRevision:o,calculationRevision:c,date:h},pipes:l})]})}var T=t(3127),M=t(9931),G=t(84172);let B={Metric:t(8983),Imperial:t(63686)};function z(e){var l,t,i;let{pipe:r,units:d,updatePipe:o,removePipe:x}=e,c=(0,h.A)(),p=v.sR.length[d].unit,u=d===S.W.Metric?(null!=(t=v.no[r.nps])?t:r.dn).toString():r.nps,m=null==(l=B[d])?void 0:l[u],f=m?Object.keys(m.schedules).sort((e,l)=>v.QX.indexOf(e)-v.QX.indexOf(l)):[],j=null!=(i=null==m?void 0:m.OD)?i:r.od,y=e=>{if(e.includes("-")){let[l,t]=e.split("-"),[s,i]=t.split("/").map(Number);return Number(l)+s/i}if(e.includes("/")){let[l,t]=e.split("/").map(Number);return l/t}return Number(e)},b=Object.keys(B.Imperial).sort((e,l)=>y(e)-y(l));return(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,s.jsxs)(n.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(a.A,{variant:"h6",gutterBottom:!1,children:["Pipe — ",d===S.W.Metric?(0,s.jsxs)(s.Fragment,{children:["DN ",r.dn]}):(0,s.jsxs)(s.Fragment,{children:["NPS ",r.nps]}),", Schedule ",r.schedule]}),(0,s.jsx)(T.A,{"aria-label":"remove pipe",onClick:()=>x(r.id),sx:{color:c.palette.error.main,p:.5},children:(0,s.jsx)(G.A,{})})]}),(0,s.jsxs)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:[(0,s.jsx)(g.A,{select:!0,label:"NPS",value:r.nps,onChange:e=>{var l,t;o(r.id,"nps",e.target.value);let s=d===S.W.Metric?(null!=(t=v.no[e.target.value])?t:"").toString():e.target.value,i=null==(l=B[d])?void 0:l[s];if(i){let e=Object.keys(i.schedules).sort()[0];e&&!i.schedules[r.schedule]&&o(r.id,"schedule",e)}},sx:{minWidth:120,flexGrow:1,flexBasis:"120px"},size:"small",children:b.map(e=>(0,s.jsx)(M.A,{value:e,children:"".concat(e,'" (').concat(v.no[e]||"N/A"," DN)")},e))}),(0,s.jsx)(g.A,{select:!0,label:"Schedule",value:r.schedule,onChange:e=>o(r.id,"schedule",e.target.value),sx:{minWidth:120,flexGrow:1,flexBasis:"120px"},disabled:!m||0===f.length,size:"small",children:f.map(e=>(0,s.jsx)(M.A,{value:e,children:e},e))})]}),(0,s.jsx)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,s.jsx)(g.A,{label:"Outer Diameter, D (".concat(p,")"),value:j.toFixed(3),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,s.jsx)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,s.jsx)(g.A,{label:"Required Thickness, tᵣ (".concat(p,")"),value:r.tRequired.toFixed(3),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,s.jsx)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,s.jsx)(g.A,{label:"Schedule Thickness (".concat(p,")"),value:r.t.toFixed(3),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,s.jsxs)(a.A,{sx:{textAlign:"right"},children:[(0,s.jsx)("strong",{children:"Result:"})," ",r.t>=r.tRequired?(0,s.jsx)("span",{style:{color:c.palette.success.main,fontWeight:"bold"},children:"ACCEPTABLE"}):(0,s.jsx)("span",{style:{color:c.palette.error.main,fontWeight:"bold"},children:"NOT ACCEPTABLE"})]})]})}var E=t(52145),O=t(81371);function L(){let e=(0,m.jL)(),l=(0,i.useMemo)(()=>[...new Set([...Object.keys(y.h.Metric.materials),...Object.keys(y.h.Imperial.materials)])],[]),t=(0,m.GV)(O.Wg),r=(0,m.GV)(e=>e.single.pressure),d=(0,m.GV)(e=>e.single.temperature),o=(0,m.GV)(e=>e.single.currentUnit),{corrosionAllowance:x}=(0,j.d4)(e=>e.single.global),c=l=>{e((0,O.eN)(l))},p=(0,y.p)(t,o,d);return(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,s.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,s.jsx)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"}},children:(0,s.jsx)(g.A,{select:!0,label:"Material",value:null!=t?t:"",onChange:e=>c(e.target.value),sx:{minWidth:200,flexGrow:1},size:"small",children:l.map(e=>(0,s.jsx)(M.A,{value:e,children:e},e))})}),(0,s.jsxs)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,s.jsx)(E.A,{label:"Design Pressure",symbol:"P",unit:v.sR.pressure[o].unit,value:r,onChange:l=>{e((0,O.ZZ)(l))},sx:{minWidth:140,flex:1}}),(0,s.jsx)(E.A,{label:"Temperature",symbol:"T",unit:v.sR.temperature[o].unit,value:d,onChange:l=>{e((0,O.C1)(l))},sx:{minWidth:140,flex:1}})]}),(0,s.jsxs)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,s.jsx)(E.A,{label:"Corrosion Allowance",symbol:"CA",unit:v.sR.length[o].unit,value:x,onChange:l=>e((0,O.w3)(l)),sx:{minWidth:140,flex:1},precision:4}),(0,s.jsx)(E.A,{label:"Allowable Stress",symbol:"S",unit:v.sR.pressure[o].unit,value:p,onChange:()=>{},disabled:!0,sx:{minWidth:140,flex:1},precision:2})]})]})}let V=e=>{let{}=e,l=(0,j.wA)(),t=(0,j.d4)(e=>e.single.pipes),r=(0,j.d4)(e=>e.single.currentUnit),d=i.useRef(!1);(0,i.useEffect)(()=>{d.current||0!==t.length||(O.CG&&l((0,O.CG)({id:(0,u.A)(),nps:"4",schedule:"40"})),d.current=!0)},[l,t.length,r]);let o=e=>{l((0,O.Px)(e))},h=(e,t,s)=>{l((0,O.ae)({pipeId:e,key:t,value:s}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch",justifyContent:"center",mt:4},children:[(0,s.jsxs)(c.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,s.jsx)(L,{}),(0,s.jsx)(n.default,{sx:{width:"100%",paddingTop:1.5},children:(0,s.jsx)(p.A,{startIcon:(0,s.jsx)(x.A,{}),variant:"outlined",onClick:()=>{l((0,O.CG)({id:(0,u.A)(),nps:"2",schedule:"40"}))},fullWidth:!0,children:"Add Pipe"})})]}),(0,s.jsxs)(c.A,{sx:{flex:1,maxWidth:{md:650},display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,s.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Formula"}),(0,s.jsx)(f,{})]})]}),(0,s.jsx)(n.default,{sx:{mt:4,display:"flex",flexDirection:"column",gap:2},children:t.map(e=>(0,s.jsx)(c.A,{sx:{flex:1,display:"flex",flexDirection:"column",p:2,gap:2,height:338,minWidth:{xs:"90%",md:450},border:"1px solid #ddd"},elevation:0,children:(0,s.jsx)(z,{pipe:e,units:r,updatePipe:h,removePipe:o})},e.id))}),(0,s.jsx)(n.default,{sx:{mt:4},children:(0,s.jsx)(N,{pipes:t})})]})};var U=t(83527);function q(e){let{pipeId:l}=e,t=(0,j.wA)(),r=(0,j.d4)(e=>e.multiple.currentUnit),d=(0,j.d4)(e=>e.multiple.pipes.find(e=>e.id===l)),o=(0,i.useMemo)(()=>Array.from(new Set([...Object.keys(y.h.Metric.materials),...Object.keys(y.h.Imperial.materials)])),[]),x=(0,i.useMemo)(()=>{if(!d||!d.material)return 0;let{material:e,temperature:l}=d,t="Metric"===r?y.h.Metric:y.h.Imperial,s=t.columns,i=t.materials[e],n=i[0];for(let e=0;e<s.length;e++)if(l>=s[e])n=i[e];else break;return n},[d,r]);if(!d)return null;let{material:c,pressure:p,temperature:u}=d;return(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,s.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,s.jsx)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"}},children:(0,s.jsx)(g.A,{select:!0,label:"Material",value:c,onChange:e=>t((0,U.VM)({pipeId:l,material:e.target.value})),sx:{minWidth:200,flexGrow:1},size:"small",children:o.map(e=>(0,s.jsx)(M.A,{value:e,children:e},e))})}),(0,s.jsxs)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"}},children:[(0,s.jsx)(E.A,{label:"Design Pressure",symbol:"P",unit:v.sR.pressure[r].unit,value:p,onChange:e=>t((0,U.nA)({pipeId:l,pressure:e})),sx:{minWidth:140,flex:1}}),(0,s.jsx)(E.A,{label:"Temperature",symbol:"T",unit:v.sR.temperature[r].unit,value:u,onChange:e=>t((0,U.q5)({pipeId:l,temperature:e})),sx:{minWidth:140,flex:1}})]}),(0,s.jsx)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"}},children:(0,s.jsx)(E.A,{label:"Allowable Stress",symbol:"S",unit:v.sR.pressure[r].unit,value:x,onChange:()=>{},disabled:!0,sx:{minWidth:140,flex:1}})})]})}function _(){let e=(0,j.wA)(),l=(0,j.d4)(e=>e.multiple.global.corrosionAllowance),t=(0,j.d4)(e=>e.single.currentUnit);return(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,s.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Global Design Parameters"}),(0,s.jsx)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:(0,s.jsx)(E.A,{label:"Corrosion Allowance",symbol:"CA",unit:v.sR.length[t].unit,value:l,onChange:l=>{e((0,U.w3)(l))},sx:{minWidth:140,flex:1},precision:4})})]})}let H=()=>{let e=(0,j.wA)(),l=(0,m.GV)(e=>e.multiple.currentUnit),t=(0,j.d4)(U.mN),r=(0,i.useRef)(!1);(0,i.useEffect)(()=>{r.current||0!==t.length||(e((0,U.W0)()),r.current=!0)},[e,t.length]);let d=l=>{e((0,U.Px)(l))},o=(l,t,s)=>{void 0!==s&&e((0,U.OU)({pipeId:l,key:t,value:s}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch",justifyContent:"center",mt:4},children:[(0,s.jsxs)(c.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,s.jsx)(_,{}),(0,s.jsx)(n.default,{sx:{mt:"auto",width:"100%"},children:(0,s.jsx)(p.A,{startIcon:(0,s.jsx)(x.A,{}),variant:"outlined",fullWidth:!0,onClick:()=>e((0,U.W0)()),children:"Add Design Condition"})})]}),(0,s.jsxs)(c.A,{sx:{flex:1,maxWidth:{md:650},display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,s.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Formula"}),(0,s.jsx)(f,{})]})]}),t.map(e=>(0,s.jsx)(n.default,{sx:{mt:4,display:"flex",justifyContent:"center"},children:(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,width:"100%",maxWidth:1300,alignItems:"stretch"},children:[(0,s.jsx)(c.A,{sx:{flex:1,display:"flex",flexDirection:"column",p:2,gap:2,height:338,minWidth:{xs:"90%",md:450},border:"1px solid #ddd"},elevation:0,children:(0,s.jsx)(q,{pipeId:e.id})}),(0,s.jsx)(c.A,{sx:{flex:1,display:"flex",flexDirection:"column",p:2,gap:2,height:338,minWidth:{xs:"90%",md:450},border:"1px solid #ddd"},elevation:0,children:(0,s.jsx)(z,{pipe:e,units:l,updatePipe:o,removePipe:()=>d(e.id)})})]})},e.id))]})};var Q=t(61899);function X(){let[e,l]=(0,i.useState)(0);return(0,s.jsx)(n.default,{sx:{width:"100%",ml:0},children:(0,s.jsxs)(r.A,{maxWidth:"lg",disableGutters:!0,children:[(0,s.jsx)(a.A,{variant:"h4",fontWeight:"bold",align:"left",gutterBottom:!0,children:"B31.3 Pipe Thickness Calculator"}),(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:2,mt:2,mb:2,overflow:"hidden"},children:[(0,s.jsxs)(d.A,{value:e,onChange:(e,t)=>l(t),textColor:"primary",indicatorColor:"primary",variant:"scrollable",scrollButtons:"auto",sx:{flexGrow:1},children:[(0,s.jsx)(o.A,{label:"Single Pressure"}),(0,s.jsx)(o.A,{label:"Multiple Pressures"})]}),(0,s.jsx)(n.default,{sx:{flexShrink:0},children:(0,s.jsx)(Q.A,{})})]}),0===e&&(0,s.jsx)(V,{}),1===e&&(0,s.jsx)(H,{})]})})}},52145:(e,l,t)=>{"use strict";t.d(l,{A:()=>r});var s=t(95155),i=t(12115),n=t(84602);function r(e){let{label:l,symbol:t,unit:r,value:a,onChange:d,disabled:o=!1,step:x=.01,min:c,max:p,sx:u={},fullWidth:h=!1,percentage:m=!1,precision:f=2,conversionFactorFromBase:g=1,conversionFactorToBase:j=1}=e,v=(0,i.useRef)(null),y=e=>{if(null==e||isNaN(e))return"";let l=e*g;return m?"".concat((100*l).toFixed(2)):l.toFixed(f)},[b,A]=(0,i.useState)(()=>y(a));(0,i.useEffect)(()=>{v.current&&document.activeElement!==v.current&&A(y(a))},[a,m,f,g]);let w=()=>{let e=parseFloat(b.replace(/[^0-9.-]/g,""));isNaN(e)?null==a||isNaN(a)?A(""):A(y(a)):(d(m?e/100:e*j),A(y(e/j)))};return(0,s.jsx)(n.A,{label:"".concat(l).concat(t?", ".concat(t):"").concat(r?" (".concat(r,")"):""),value:b,onChange:e=>{let l=e.target.value;A(l);let t=parseFloat(l.replace(/[^0-9.-]/g,""));isNaN(t)||d(m?t/100:t*j)},onBlur:w,onKeyDown:e=>{if("Enter"===e.key){var l;w(),null==(l=v.current)||l.blur()}},size:"small",disabled:o,inputProps:{step:x,min:c,max:p},sx:{minWidth:180,...u,"& input[type=number]::-webkit-inner-spin-button":{WebkitAppearance:"none"}},fullWidth:h,type:"number",InputLabelProps:{shrink:!0},inputRef:v})}},61899:(e,l,t)=>{"use strict";t.d(l,{A:()=>p});var s=t(95155),i=t(12115),n=t(16324),r=t(16950),a=t(97644),d=t(64458),o=t(34540),x=t(81371),c=t(83527);function p(){let e=(0,n.A)(),l=(0,o.wA)(),t=(0,o.d4)(e=>e.single.currentUnit),[p,u]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let l=window.matchMedia(e.breakpoints.down("md"));u(l.matches);let t=e=>u(e.matches);return l.addEventListener("change",t),()=>l.removeEventListener("change",t)},[e]),(0,s.jsxs)(r.A,{value:t,exclusive:!0,onChange:(e,t)=>{t&&(l((0,x.bp)(t)),l((0,c.dk)(t)))},sx:{display:{xs:"flex",sm:"flex"},width:{xs:"100%"},[e.breakpoints.up("sm")]:{flex:1},justifyContent:{md:"flex-end"}},children:[(0,s.jsx)(a.A,{value:d.W.Imperial,sx:{flexGrow:+!!p},children:"Imperial"}),(0,s.jsx)(a.A,{value:d.W.Metric,sx:{flexGrow:+!!p},children:"Metric"})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[22,788,584,980,537,146,44,441,684,358],()=>l(24343)),_N_E=e.O()}]);