(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{24343:(e,l,s)=>{Promise.resolve().then(s.bind(s,54581)),Promise.resolve().then(s.bind(s,53047))},52145:(e,l,s)=>{"use strict";s.d(l,{A:()=>r});var t=s(95155),n=s(12115),i=s(84602);function r(e){let{label:l,symbol:s,unit:r,value:a,onChange:o,disabled:d=!1,step:c=.01,min:u,max:x,sx:p={},fullWidth:h=!1,percentage:m=!1,precision:S=2,conversionFactorFromBase:f=1,conversionFactorToBase:g=1}=e,j=(0,n.useRef)(null),D=e=>{if(null==e||isNaN(e))return"";let l=e*f;return m?"".concat((100*l).toFixed(2)):l.toFixed(S)},[v,y]=(0,n.useState)(()=>D(a));(0,n.useEffect)(()=>{j.current&&document.activeElement!==j.current&&y(D(a))},[a,m,S,f]);let b=()=>{let e=parseFloat(v.replace(/[^0-9.-]/g,""));isNaN(e)?null==a||isNaN(a)?y(""):y(D(a)):(o(m?e/100:e*g),y(D(e/g)))};return(0,t.jsx)(i.A,{label:"".concat(l).concat(s?", ".concat(s):"").concat(r?" (".concat(r,")"):""),value:v,onChange:e=>{let l=e.target.value;y(l);let s=parseFloat(l.replace(/[^0-9.-]/g,""));isNaN(s)||o(m?s/100:s*g)},onBlur:b,onKeyDown:e=>{if("Enter"===e.key){var l;b(),null==(l=j.current)||l.blur()}},size:"small",disabled:d,inputProps:{step:c,min:u,max:x},sx:{minWidth:180,...p,"& input[type=number]::-webkit-inner-spin-button":{WebkitAppearance:"none"}},fullWidth:h,type:"number",InputLabelProps:{shrink:!0},inputRef:j})}},53047:(e,l,s)=>{"use strict";s.d(l,{default:()=>_});var t=s(95155),n=s(12115),i=s(51368),r=s(54581),a=s(42328),o=s(71116),d=s(29267),c=s(18096);let u={Metric:{label:"Up to 40",columns:[40,65,100,150,200,250,300,325,350,375,400,425,450,475,500,525,550,575,600],materials:{A106B:[138e3,138e3,138e3,138e3,138e3,132e3,126e3,122e3,118e3,113e3,95100,79500,62600,45e3,31700,21400,14200,9400,6890],A3336:[138e3,138e3,138e3,138e3,138e3,132e3,126e3,122e3,118e3,113e3,95100,79500,62600,45e3,31700,21400,14200,9400,6890],A312TP316L:[138e3,138e3,138e3,138e3,134e3,125e3,119e3,116e3,114e3,112e3,111e3,11e4,109e3,108e3,107e3,106e3,105e3,97800,80800],A312TP304L:[138e3,138e3,138e3,138e3,129e3,122e3,116e3,113e3,111e3,109e3,107e3,105e3,103e3,101e3,99100,97300]}},Imperial:{label:"Up to 100",columns:[100,200,300,400,500,600,650,700,750,800,850,900,950,1e3,1050,1100],materials:{A106B:[2e4,2e4,2e4,19900,19e3,17900,17300,16700,13900,11400,8700,5900,4e3,2500,1600,1e3],A3336:[2e4,2e4,2e4,19900,19e3,17900,17300,16700,13900,11400,8700,5900,4e3,2500,1600,1e3],A312TP316L:[2e4,2e4,2e4,19300,18e3,17e3,16600,16300,16100,15900,15700,15600,15400,15300,15100,12400],A312TP304L:[2e4,2e4,2e4,18600,17500,16600,16200,15800,15500,15200,14900,14600,14300,14e3,12400,9800]}}};var x=s(64458),p=s(89910);let h=JSON.parse('{"Metric":{"10":{"OD":10.29,"schedules":{"10":1.245,"40":1.727,"80":2.413,"160":4.775,"10S":1.245,"40S":1.727,"STD":1.727,"80S":2.413,"XH":2.413,"XXH":7.468}},"13":{"OD":13.72,"schedules":{"10":1.651,"40":2.235,"80":3.023,"160":5.563,"10S":1.651,"40S":2.235,"STD":2.235,"80S":3.023,"XH":3.023,"XXH":7.823}},"17":{"OD":17.15,"schedules":{"10":1.651,"40":2.311,"80":3.201,"160":6.35,"10S":1.651,"40S":2.311,"STD":2.311,"80S":3.201,"XH":3.201,"XXH":9.093}},"21":{"OD":21.34,"schedules":{"10":2.108,"40":2.774,"80":3.734,"160":6.35,"5S":1.651,"10S":2.108,"40S":2.774,"STD":2.774,"80S":3.734,"XH":3.734,"XXH":9.703}},"26":{"OD":26.67,"schedules":{"10":2.108,"40":2.87,"80":3.912,"160":7.137,"5S":1.651,"10S":2.108,"40S":2.87,"STD":2.87,"80S":3.912,"XH":3.912,"XXH":10.16}},"33":{"OD":33.4,"schedules":{"10":2.769,"40":3.378,"80":4.547,"160":6.35,"5S":1.651,"10S":2.769,"40S":3.378,"STD":3.378,"80S":4.547,"XH":4.547,"XXH":9.093}},"42":{"OD":42.16,"schedules":{"10":2.769,"40":3.556,"80":4.851,"160":6.35,"5S":1.651,"10S":2.769,"40S":3.556,"STD":3.556,"80S":4.851,"XH":4.851,"XXH":9.703}},"48":{"OD":48.26,"schedules":{"10":2.769,"40":3.683,"80":5.08,"160":7.137,"5S":1.651,"10S":2.769,"40S":3.683,"STD":3.683,"80S":5.08,"XH":5.08,"XXH":10.16}},"60":{"OD":60.33,"schedules":{"10":2.769,"20":3.175,"30":3.912,"40":3.912,"60":5.537,"80":5.537,"100":8.738,"120":11.074,"140":12.7,"160":14.275,"5S":1.651,"10S":2.769,"40S":3.912,"STD":3.912,"80S":5.537,"XH":5.537,"XXH":11.074}},"73":{"OD":73.03,"schedules":{"10":3.048,"20":3.175,"30":4.775,"40":5.156,"60":7.01,"80":7.01,"100":9.525,"120":12.7,"140":14.275,"160":15.875,"5S":2.108,"10S":3.048,"40S":5.156,"STD":5.156,"80S":7.01,"XH":7.01,"XXH":14.021}},"88":{"OD":88.9,"schedules":{"10":3.048,"20":3.175,"30":4.775,"40":5.486,"60":7.62,"80":7.62,"100":11.125,"120":14.275,"140":17.069,"160":20.32,"5S":2.108,"10S":3.048,"40S":5.486,"STD":5.486,"80S":7.62,"XH":7.62,"XXH":15.24}},"102":{"OD":101.6,"schedules":{"10":3.048,"20":3.175,"30":4.775,"40":5.74,"60":8.077,"80":8.077,"100":10.312,"120":12.7,"140":15.088,"160":17.475,"5S":2.108,"10S":3.048,"40S":5.74,"STD":5.74,"80S":8.077,"XH":8.077,"XXH":16.129}},"114":{"OD":114.3,"schedules":{"10":3.048,"20":3.175,"30":4.775,"40":6.02,"60":8.56,"80":8.56,"100":11.125,"120":13.487,"140":15.875,"160":17.12,"5S":2.108,"10S":3.048,"40S":6.02,"STD":6.02,"80S":8.56,"XH":8.56,"XXH":17.12}},"141":{"OD":141.3,"schedules":{"10":3.404,"20":6.35,"30":7.925,"40":6.553,"60":9.525,"80":9.525,"100":12.7,"120":15.875,"140":19.05,"160":22.225,"5S":2.769,"10S":3.404,"40S":6.553,"STD":6.553,"80S":9.525,"XH":9.525,"XXH":19.05}},"168":{"OD":168.28,"schedules":{"10":3.404,"20":6.35,"30":9.525,"40":7.112,"60":10.973,"80":10.973,"100":14.275,"120":17.475,"140":21.437,"160":24.613,"5S":2.769,"10S":3.404,"40S":7.112,"STD":7.112,"80S":10.973,"XH":10.973,"XXH":21.954}},"219":{"OD":219.08,"schedules":{"10":3.759,"20":6.35,"30":8.179,"40":8.179,"60":10.312,"80":12.7,"100":15.088,"120":18.263,"140":20.625,"160":23.012,"5S":2.769,"10S":3.759,"40S":8.179,"STD":8.179,"80S":12.7,"XH":12.7,"XXH":22.225}},"273":{"OD":273.05,"schedules":{"10":4.191,"20":6.35,"30":9.271,"40":9.271,"60":12.7,"80":15.088,"100":18.263,"120":21.437,"140":25.4,"160":28.575,"5S":3.404,"10S":4.191,"40S":9.271,"STD":9.271,"80S":15.088,"XH":15.088,"XXH":25.4}},"323":{"OD":323.85,"schedules":{"10":4.572,"20":6.35,"30":10.312,"40":9.525,"60":14.275,"80":17.475,"100":21.437,"120":25.4,"140":28.575,"160":33.325,"5S":3.962,"10S":4.572,"40S":9.525,"STD":9.525,"80S":17.475,"XH":17.475,"XXH":25.4}},"355":{"OD":355.6,"schedules":{"10":6.35,"20":7.925,"30":11.125,"40":9.525,"60":12.7,"80":15.875,"100":19.05,"120":23.825,"140":27.785,"160":31.75,"5S":3.962,"10S":4.775,"40S":9.525,"STD":9.525,"80S":15.875,"XH":15.875}},"406":{"OD":406.4,"schedules":{"10":6.35,"20":7.925,"30":12.7,"40":9.525,"60":14.275,"80":16.662,"100":21.437,"120":26.188,"140":30.963,"160":36.525,"5S":4.191,"10S":4.775,"40S":9.525,"STD":9.525,"80S":16.662,"XH":16.662}},"457":{"OD":457.2,"schedules":{"10":6.35,"20":7.925,"30":14.275,"40":9.525,"60":15.875,"80":19.05,"100":23.825,"120":29.36,"140":34.925,"160":39.675,"5S":4.191,"10S":4.775,"40S":9.525,"STD":9.525,"80S":19.05,"XH":19.05}},"508":{"OD":508,"schedules":{"10":6.35,"20":9.525,"30":15.875,"40":9.525,"60":19.05,"80":22.225,"100":28.575,"120":34.925,"140":39.675,"160":45.237,"5S":4.775,"10S":5.537,"40S":9.525,"STD":9.525,"80S":22.225,"XH":22.225}},"610":{"OD":610,"schedules":{"10":6.35,"20":9.525,"30":17.475,"40":9.525,"60":24.613,"80":30.963,"100":38.893,"120":46.022,"140":52.375,"160":59.531,"5S":5.537,"10S":6.35,"40S":9.525,"STD":9.525,"80S":30.963,"XH":30.963}},"660":{"OD":660,"schedules":{"20":12.7,"30":15.875,"40":15.088,"60":28.575,"10S":7.925,"40S":15.088,"STD":15.088,"80S":34.925,"XH":34.925}},"711":{"OD":711,"schedules":{"20":12.7,"30":15.875,"40":17.475,"60":31.75,"10S":7.925,"40S":15.088,"STD":15.088,"80S":38.1,"XH":38.1}},"762":{"OD":762,"schedules":{"20":12.7,"30":15.875,"40":19.05,"60":34.925,"10S":7.925,"40S":15.088,"STD":15.088,"80S":42.875,"XH":42.875}},"813":{"OD":813,"schedules":{"20":12.7,"30":15.875,"40":19.05,"60":38.1,"10S":7.925,"40S":15.088,"STD":15.088,"80S":47.625}},"864":{"OD":864,"schedules":{"20":12.7,"30":15.875,"40":19.05,"60":41.275,"10S":7.925,"40S":15.088,"STD":15.088,"80S":52.375}},"914":{"OD":914,"schedules":{"20":12.7,"30":15.875,"40":19.05,"60":44.45,"10S":7.925,"40S":15.088,"STD":15.088}}},"Imperial":{"1":{"OD":1.315,"schedules":{"5":0.065,"10":0.109,"40":0.133,"80":0.179,"160":0.25,"5S":0.065,"10S":0.109,"40S":0.133,"STD":0.133,"80S":0.179,"XH":0.179,"XXH":0.358}},"2":{"OD":2.375,"schedules":{"5":0.065,"10":0.109,"40":0.154,"80":0.218,"160":0.344,"5S":0.065,"10S":0.109,"40S":0.154,"STD":0.154,"80S":0.218,"XH":0.218,"XXH":0.436}},"3":{"OD":3.5,"schedules":{"5":0.083,"10":0.12,"40":0.216,"80":0.3,"160":0.438,"5S":0.083,"10S":0.12,"40S":0.216,"STD":0.216,"80S":0.3,"XH":0.3,"XXH":0.6}},"4":{"OD":4.5,"schedules":{"5":0.083,"10":0.12,"40":0.237,"60":0.281,"80":0.337,"120":0.438,"160":0.531,"5S":0.083,"10S":0.12,"40S":0.237,"STD":0.237,"80S":0.337,"XH":0.337,"XXH":0.674}},"5":{"OD":5.563,"schedules":{"5":0.109,"10":0.134,"40":0.258,"80":0.375,"120":0.5,"160":0.625,"5S":0.109,"10S":0.134,"40S":0.258,"STD":0.258,"80S":0.375,"XH":0.375,"XXH":0.75}},"6":{"OD":6.625,"schedules":{"5":0.109,"10":0.134,"40":0.28,"80":0.432,"120":0.562,"160":0.719,"5S":0.109,"10S":0.134,"40S":0.28,"STD":0.28,"80S":0.432,"XH":0.432,"XXH":0.864}},"8":{"OD":8.625,"schedules":{"5":0.109,"10":0.148,"20":0.25,"30":0.277,"40":0.322,"60":0.406,"80":0.5,"100":0.594,"120":0.719,"140":0.812,"160":0.906,"5S":0.109,"10S":0.148,"40S":0.322,"STD":0.322,"80S":0.5,"XH":0.5,"XXH":0.875}},"10":{"OD":10.75,"schedules":{"5":0.134,"10":0.165,"20":0.25,"30":0.307,"40":0.365,"60":0.5,"80":0.5,"100":0.594,"120":0.719,"140":0.844,"160":1,"5S":0.134,"10S":0.165,"40S":0.365,"STD":0.365,"80S":0.5,"XH":0.5,"XXH":1}},"12":{"OD":12.75,"schedules":{"5":0.156,"10":0.18,"20":0.25,"30":0.33,"40":0.406,"60":0.562,"80":0.688,"100":0.844,"120":1,"140":1.125,"160":1.312,"5S":0.156,"10S":0.18,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5,"XXH":1}},"14":{"OD":14,"schedules":{"5":0.156,"10":0.25,"20":0.312,"30":0.375,"40":0.438,"60":0.594,"80":0.75,"100":0.938,"120":1.094,"140":1.25,"160":1.406,"5S":0.156,"10S":0.188,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"16":{"OD":16,"schedules":{"5":0.165,"10":0.25,"20":0.312,"30":0.375,"40":0.5,"60":0.656,"80":0.844,"100":1.031,"120":1.218,"140":1.437,"160":1.594,"5S":0.165,"10S":0.188,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"18":{"OD":18,"schedules":{"5":0.165,"10":0.25,"20":0.312,"30":0.438,"40":0.562,"60":0.75,"80":0.938,"100":1.156,"120":1.375,"140":1.562,"160":1.781,"5S":0.165,"10S":0.188,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"20":{"OD":20,"schedules":{"5":0.188,"10":0.25,"20":0.375,"30":0.5,"40":0.594,"60":0.812,"80":1.031,"100":1.281,"120":1.5,"140":1.75,"160":1.969,"5S":0.188,"10S":0.218,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"24":{"OD":24,"schedules":{"5":0.218,"10":0.25,"20":0.375,"30":0.562,"40":0.688,"60":0.969,"80":1.219,"100":1.531,"120":1.812,"140":2.062,"160":2.344,"5S":0.218,"10S":0.25,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"26":{"OD":26,"schedules":{"20":0.5,"30":0.625,"40":0.625,"5S":0.25,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"28":{"OD":28,"schedules":{"20":0.5,"30":0.625,"40":0.688,"5S":0.25,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"30":{"OD":30,"schedules":{"5":0.25,"10":0.312,"20":0.5,"30":0.625,"40":0.75,"5S":0.25,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"32":{"OD":32,"schedules":{"20":0.5,"30":0.625,"40":0.75,"5S":0.25,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"34":{"OD":34,"schedules":{"20":0.5,"30":0.625,"40":0.75,"5S":0.25,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"36":{"OD":36,"schedules":{"20":0.5,"30":0.625,"40":0.75,"5S":0.25,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"1/8":{"OD":0.405,"schedules":{"5":0.035,"10":0.049,"40":0.068,"80":0.095,"5S":0.035,"10S":0.049,"40S":0.068,"STD":0.068,"80S":0.095,"XH":0.095}},"1/4":{"OD":0.54,"schedules":{"5":0.049,"10":0.065,"40":0.088,"80":0.119,"5S":0.049,"10S":0.065,"40S":0.088,"STD":0.088,"80S":0.119,"XH":0.119}},"3/8":{"OD":0.675,"schedules":{"5":0.049,"10":0.065,"40":0.091,"80":0.126,"5S":0.049,"10S":0.065,"40S":0.091,"STD":0.091,"80S":0.126,"XH":0.126}},"1/2":{"OD":0.84,"schedules":{"5":0.065,"10":0.083,"40":0.109,"80":0.147,"160":0.188,"5S":0.065,"10S":0.083,"40S":0.109,"STD":0.109,"80S":0.147,"XH":0.147,"XXH":0.294}},"3/4":{"OD":1.05,"schedules":{"5":0.065,"10":0.083,"40":0.113,"80":0.154,"160":0.219,"5S":0.065,"10S":0.083,"40S":0.113,"STD":0.113,"80S":0.154,"XH":0.154,"XXH":0.308}},"1-1/4":{"OD":1.66,"schedules":{"5":0.065,"10":0.109,"40":0.14,"80":0.191,"160":0.25,"5S":0.065,"10S":0.109,"40S":0.14,"STD":0.14,"80S":0.191,"XH":0.191,"XXH":0.382}},"1-1/2":{"OD":1.9,"schedules":{"5":0.065,"10":0.109,"40":0.145,"80":0.2,"160":0.281,"5S":0.065,"10S":0.109,"40S":0.145,"STD":0.145,"80S":0.2,"XH":0.2,"XXH":0.4}},"2-1/2":{"OD":2.875,"schedules":{"5":0.083,"10":0.12,"40":0.203,"80":0.276,"160":0.375,"5S":0.083,"10S":0.12,"40S":0.203,"STD":0.203,"80S":0.276,"XH":0.276,"XXH":0.552}},"3-1/2":{"OD":4,"schedules":{"5":0.083,"10":0.12,"40":0.226,"80":0.318,"5S":0.083,"10S":0.12,"40S":0.226,"STD":0.226,"80S":0.318,"XH":0.318,"XXH":0.636}}}}');var m=s(41218),S=s(16632),f=s(68534),g=s(74637),j=s(3127),D=s(84602),v=s(9931),y=s(84172),b=s(16324);let A=e=>{let{pressure:l,outerDiameterInches:s,allowableStress:t,e:n,w:i,gamma:r,corrosionAllowanceInches:a,millTol:o}=e;console.log("--- calculateTRequired Inputs ---"),console.log("pressure:",l),console.log("outerDiameterInches:",s),console.log("allowableStress (S):",t),console.log("e (E):",n),console.log("w (W):",i),console.log("gamma (Y):",r),console.log("corrosionAllowanceInches (c):",a),console.log("millTol:",o);let d=l*s,c=2*((null!=t?t:0)*n*i+l*r);if(console.log("Numerator (P*D):",d),console.log("Denominator (2*(SEW + PY)):",c),0===c)return console.warn("Denominator is zero. Returning 0 for tRequired."),0;let u=d/c;if(console.log("Pressure Design Thickness (t):",u),1-o<=0)return console.warn("Invalid millTol (1 - millTol <= 0). Returning 0 for tRequired."),0;let x=(u+a)/(1-o);return console.log("Calculated tRequired:",x),console.log("-------------------------------"),x};function w(e){var l,s;let{pipe:n,updatePipe:i,removePipe:a,designParams:d,sx:c}=e,u=(0,b.A)(),{pressure:f,corrosionAllowance:g,allowableStress:w,e:X,w:T,gamma:W,units:H}=d,I=p.sR.length[H],C=p.sR.pressure[H],O=I.unit,P=H===x.W.Metric?null==(l=p.hZ[n.nps])?void 0:l.toString():n.nps,R=h[H],M=null==R?void 0:R[P||""],N=M?Object.keys(M.schedules).sort((e,l)=>p.QX.indexOf(e)-p.QX.indexOf(l)):[],k=0;if(M&&M.schedules&&n.schedule in M.schedules){let e=M.schedules[n.schedule];k=null===e?0:e}let F=0;F=H===x.W.Metric&&k?p.sR.length.Metric.toImperial(k):k;let B=I.to(F),z=(null==M?void 0:M.OD)||0,E=C.toImperial(f),L=C.toImperial(null!=w?w:0),q=I.toImperial(g),G=A({pressure:E,outerDiameterInches:H===x.W.Metric?p.sR.length[x.W.Metric].toImperial(z):z,allowableStress:L,e:null!=X?X:1,w:null!=T?T:1,gamma:null!=W?W:1,corrosionAllowanceInches:q,millTol:null!=(s=d.millTol)?s:0}),U=I.to(G),Z=Object.keys(h.Imperial).sort((e,l)=>{let s=e=>{if(e.includes(" ")){let[l,s]=e.split(" "),[t,n]=s.split("/").map(Number);return Number(l)+t/n}if(!e.includes("/"))return Number(e);{let[l,s]=e.split("/").map(Number);return l/s}};return s(e)-s(l)});return(0,t.jsx)(m.A,{sx:{flex:1,borderRadius:2,border:"1px solid #ddd",boxShadow:"none",position:"relative",minWidth:450,...c},children:(0,t.jsxs)(S.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,t.jsxs)(r.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)(o.A,{variant:"h6",gutterBottom:!1,children:["Pipe — NPS ",n.nps,", Schedule ",n.schedule]}),(0,t.jsx)(j.A,{"aria-label":"remove pipe",onClick:()=>a(n.id),sx:{color:u.palette.error.main,p:.5},children:(0,t.jsx)(y.A,{})})]}),(0,t.jsxs)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:[(0,t.jsx)(D.A,{select:!0,label:"NPS",value:n.nps,onChange:e=>{var l,s;i(n.id,"nps",e.target.value);let t=H===x.W.Metric?null==(l=p.hZ[e.target.value])?void 0:l.toString():e.target.value,r=null==(s=h[H])?void 0:s[t||""];if(r){let e=Object.keys(r.schedules).sort()[0];e&&!r.schedules[n.schedule]&&i(n.id,"schedule",e)}},sx:{minWidth:120,flexGrow:1,flexBasis:"120px"},size:"small",children:Z.map(e=>(0,t.jsx)(v.A,{value:e,children:"".concat(e,'" (').concat(p.hZ[e]||"N/A"," DN)")},e))}),(0,t.jsx)(D.A,{select:!0,label:"Schedule",value:n.schedule,onChange:e=>i(n.id,"schedule",e.target.value),sx:{minWidth:120,flexGrow:1,flexBasis:"120px"},disabled:!M||0===N.length,size:"small",children:N.map(e=>(0,t.jsx)(v.A,{value:e,children:e},e))})]}),(0,t.jsx)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,t.jsx)(D.A,{label:"Outer Diameter, D (".concat(O,")"),value:z.toFixed(2),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,t.jsx)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,t.jsx)(D.A,{label:"Required Thickness, tᵣ (".concat(O,")"),value:U.toFixed(3),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,t.jsx)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,t.jsx)(D.A,{label:"Schedule Thickness (".concat(O,")"),value:B.toFixed(3),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,t.jsxs)(o.A,{sx:{textAlign:"right"},children:[(0,t.jsx)("strong",{children:"Result:"})," ",F>=G?(0,t.jsx)("span",{style:{color:u.palette.success.main,fontWeight:"bold"},children:"ACCEPTABLE"}):(0,t.jsx)("span",{style:{color:u.palette.error.main,fontWeight:"bold"},children:"NOT ACCEPTABLE"})]})]})})}function X(e){var l,s,n,i;let{designParams:a}=e,d=(0,b.A)(),c=null!=(l=null==a?void 0:a.e)?l:1,u=null!=(s=null==a?void 0:a.w)?s:1,x=null!=(n=null==a?void 0:a.gamma)?n:.4,p=null!=(i=null==a?void 0:a.millTol)?i:.125;return(0,t.jsxs)(r.default,{sx:{backgroundColor:d.palette.background.default,p:2,borderRadius:1,overflow:"hidden"},children:[(0,t.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:"bold",mb:1},children:"Required Thickness (ASME B31.3):"}),(0,t.jsxs)(o.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:[(0,t.jsx)(o.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"tᵣ = ("}),(0,t.jsxs)(r.default,{sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:1},children:[(0,t.jsx)(r.default,{sx:{borderBottom:"1px solid ".concat(d.palette.text.primary," !important"),px:.5,textAlign:"center",whiteSpace:"nowrap"},children:"(P \xd7 D)"}),(0,t.jsx)(r.default,{sx:{px:.5,mt:.2,whiteSpace:"nowrap",textAlign:"center"},children:"[2(SEW + Pγ)]"})]}),(0,t.jsx)(o.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"+ CA )"}),(0,t.jsx)(o.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"\xd7"}),(0,t.jsxs)(r.default,{sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:1,whiteSpace:"nowrap",ml:1},children:[(0,t.jsx)(r.default,{sx:{borderBottom:"1px solid ".concat(d.palette.text.primary," !important"),px:.5,mt:.3,textAlign:"center"},children:"1"}),(0,t.jsx)(r.default,{sx:{px:.5,mt:.2,textAlign:"center"},children:"(1 - Mill Tolerance)"})]})]}),(0,t.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:"bold",mb:1,mt:2},children:"Assumptions:"}),(0,t.jsx)(o.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,t.jsxs)(o.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Weld Joint Efficiency, E = ",(0,t.jsx)("strong",{children:c})]})}),(0,t.jsx)(o.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,t.jsxs)(o.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Weld Strength Reduction Factor, W = ",(0,t.jsx)("strong",{children:u})]})}),(0,t.jsx)(o.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,t.jsxs)(o.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Temperature Coefficient, γ = ",(0,t.jsx)("strong",{children:x})]})}),(0,t.jsx)(o.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,t.jsxs)(o.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Mill Tolerance Factor, % = ",(0,t.jsxs)("strong",{children:[100*p,"%"]})]})})]})}let T={display:"flex",alignItems:"center",marginBottom:8},W={fontWeight:"bold",minWidth:220,marginRight:8,whiteSpace:"nowrap"},H={minWidth:100,textAlign:"right",marginRight:8},I={minWidth:80},C=e=>{let{drawingInfo:l,designParams:s}=e,{units:n,pressure:i,temperature:a,corrosionAllowance:d,allowableStress:c,gamma:u}=s,x=p.sR.pressure[n],h=p.sR.temperature[n],m=p.sR.length[n];return(0,t.jsxs)(r.default,{sx:{mb:4},children:[(0,t.jsxs)(r.default,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",mb:2},children:[(0,t.jsxs)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[(0,t.jsx)(o.A,{fontWeight:"bold",children:"Drawing Number:"}),(0,t.jsx)(o.A,{children:l.drawingNumber}),(0,t.jsx)(o.A,{fontWeight:"bold",sx:{ml:2},children:"Revision:"}),(0,t.jsx)(o.A,{children:l.drawingRevision})]}),(0,t.jsxs)(r.default,{children:[(0,t.jsx)(o.A,{fontWeight:"bold",display:"inline",children:"Date:"})," ",(0,t.jsx)(o.A,{display:"inline",children:l.date})]})]}),(0,t.jsxs)(r.default,{children:[(0,t.jsxs)("div",{style:T,children:[(0,t.jsx)("div",{style:W,children:"Calculation Revision:"}),(0,t.jsx)("div",{style:H,children:l.calculationRevision}),(0,t.jsx)("div",{style:I})]}),(0,t.jsxs)("div",{style:T,children:[(0,t.jsx)("div",{style:W,children:"Units:"}),(0,t.jsx)("div",{style:H,children:n}),(0,t.jsx)("div",{style:I})]}),(0,t.jsxs)("div",{style:T,children:[(0,t.jsx)("div",{style:W,children:"Design Pressure:"}),(0,t.jsx)("div",{style:H,children:x.to(i).toFixed(2)}),(0,t.jsx)("div",{style:I,children:x.unit})]}),(0,t.jsxs)("div",{style:T,children:[(0,t.jsx)("div",{style:W,children:"Design Temperature:"}),(0,t.jsx)("div",{style:H,children:h.to(a).toFixed(0)}),(0,t.jsx)("div",{style:I,children:h.unit})]}),(0,t.jsxs)("div",{style:T,children:[(0,t.jsx)("div",{style:W,children:"Corrosion Allowance:"}),(0,t.jsx)("div",{style:H,children:d}),(0,t.jsx)("div",{style:I,children:m.unit})]}),(0,t.jsxs)("div",{style:T,children:[(0,t.jsx)("div",{style:W,children:"Maximum Allowable Stress:"}),(0,t.jsx)("div",{style:H,children:x.to(null!=c?c:0).toFixed(2)}),(0,t.jsx)("div",{style:I,children:x.unit})]}),(0,t.jsxs)("div",{style:T,children:[(0,t.jsx)("div",{style:W,children:"Temperature Coefficient, γ:"}),(0,t.jsx)("div",{style:H,children:null!=u?u:""}),(0,t.jsx)("div",{style:I})]})]})]})},O={marginBottom:8,display:"block"},P={display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:12,lineHeight:1,marginLeft:4,marginRight:4},R={padding:"0 4px",textAlign:"center"},M=e=>{var l;let{pipes:s,material:n,designParams:i}=e,r=(0,b.A)(),{pressure:a,corrosionAllowance:o,allowableStress:d,e:c,w:u,gamma:m,units:S}=i,f=1-(null!=(l=i.millTol)?l:0),g={padding:"0 4px",marginTop:2,textAlign:"center",borderTop:"1px solid ".concat(r.palette.text.primary)};return(0,t.jsx)(t.Fragment,{children:s.map((e,l)=>{var s,j,D,v,y;let b=p.sR.length[S],w=p.sR.pressure[S],X=S===x.W.Metric?p.hZ[e.nps]:e.nps,T=null==(s=h[S])?void 0:s[X],W=(null==T?void 0:T.OD)||0,H=null!=(D=null==T||null==(j=T.schedules)?void 0:j[e.schedule])?D:0,I=w.to(a),C=w.to(null!=d?d:0),M=w.toImperial(a),N=w.toImperial(null!=d?d:0),k=b.toImperial(o),F=A({pressure:M,outerDiameterInches:b.toImperial(W),allowableStress:N,e:null!=c?c:1,w:null!=u?u:1,gamma:null!=m?m:1,corrosionAllowanceInches:k,millTol:null!=(v=i.millTol)?v:0}),B=b.to(F),z=I*W,E=2*(C*(null!=c?c:1)*(null!=u?u:1)+I*(null!=m?m:1));return(0,t.jsxs)("div",{style:{borderTop:"1px solid ".concat(r.palette.divider),paddingTop:10,marginTop:16},children:[(0,t.jsxs)("div",{style:O,children:[(0,t.jsxs)("strong",{children:["Pipe ",l+1]})," — For NPS ",e.nps," SCH"," ",n," (D=",W.toFixed(3),b.unit,", t ="," ",H.toFixed(3),b.unit,"):"]}),(0,t.jsxs)("div",{style:{marginTop:8,marginLeft:24},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"tᵣ = ("}),(0,t.jsxs)("span",{style:P,children:[(0,t.jsx)("span",{style:R,children:"P \xd7 D"}),(0,t.jsx)("span",{style:g,children:"2(SEW + Pγ)"})]}),(0,t.jsx)("span",{children:"+ CA ) \xd7 "}),(0,t.jsxs)("span",{style:P,children:[(0,t.jsx)("span",{style:R,children:"1"}),(0,t.jsx)("span",{style:g,children:"(1 - Mill Tolerance)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"tᵣ = ("}),(0,t.jsxs)("span",{style:P,children:[(0,t.jsxs)("span",{style:R,children:[I.toFixed(2),w.unit," \xd7"," ",W.toFixed(3),b.unit]}),(0,t.jsxs)("span",{style:g,children:["2((",C.toFixed(2),w.unit,")(",null!=c?c:1,")(",null!=u?u:1,") + (",I.toFixed(2),w.unit,")(",null!=m?m:1,"))"]})]}),(0,t.jsxs)("span",{children:["+ ",o.toFixed(4),b.unit,") \xd7"," "]}),(0,t.jsxs)("span",{style:P,children:[(0,t.jsx)("span",{style:R,children:"1"}),(0,t.jsxs)("span",{style:g,children:["(1 - ",(null!=(y=i.millTol)?y:0).toFixed(3),")"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"tᵣ = ("}),(0,t.jsxs)("span",{style:P,children:[(0,t.jsx)("span",{style:R,children:z.toFixed(2)}),(0,t.jsx)("span",{style:g,children:E.toFixed(2)})]}),(0,t.jsxs)("span",{children:[b.unit," +"," ",o.toFixed(4),b.unit,") \xd7"," "]}),(0,t.jsxs)("span",{style:P,children:[(0,t.jsx)("span",{style:R,children:"1"}),(0,t.jsxs)("span",{style:g,children:["(",f.toFixed(3),")"]})]})]})]}),(0,t.jsx)("div",{style:{marginTop:8,marginLeft:24},children:(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:["tᵣ ="," ",B.toFixed(3)," ",b.unit]})})}),(0,t.jsx)("div",{style:{marginTop:8},children:(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:["t ",H>B?">":"<"," ","tᵣ ∴"," ",H>B?(0,t.jsx)("span",{style:{color:r.palette.success.main,fontWeight:"bold"},children:"Acceptable"}):(0,t.jsx)("span",{style:{color:r.palette.error.main,fontWeight:"bold"},children:"Not Acceptable"})]})})})]},e.id)})})},N=(0,n.forwardRef)((e,l)=>{let{drawingInfo:s,designParams:n,material:i,pipes:r}=e,a=(0,b.A)();return(0,t.jsxs)("div",{ref:l,style:{padding:10,maxWidth:600,fontSize:14,fontFamily:"'Calibri', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:a.palette.text.primary},children:[(0,t.jsx)(C,{drawingInfo:s,designParams:n}),(0,t.jsx)(M,{pipes:r,designParams:n,material:i})]})});N.displayName="PdfContent";var k=s(84239);function F(e){let{material:l,pipes:i,designParams:a}=e,o=(0,n.useRef)(null),[d,c]=(0,n.useState)(""),[u,x]=(0,n.useState)("0"),[p,h]=(0,n.useState)("0"),[m,S]=(0,n.useState)(()=>new Date().toISOString().split("T")[0]),g=(0,n.useRef)(null);(0,n.useEffect)(()=>{Promise.all([s.e(930),s.e(628),s.e(316),s.e(913)]).then(s.t.bind(s,86608,23)).then(e=>{g.current=e.default||e})},[]);let j={xs:"1 1 100%",sm:"1 1 calc(50% - 8px)",md:"1 1 0%"};return(0,t.jsxs)(r.default,{sx:{mb:4,p:3,bgcolor:"background.paper",borderRadius:2,border:"1px solid #ddd"},children:[(0,t.jsxs)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[(0,t.jsx)(D.A,{label:"Drawing Number".concat(d?", ".concat(d):""),value:d,onChange:e=>c(e.target.value),size:"small",sx:{flex:j,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,t.jsx)(D.A,{label:"Drawing Revision Number",value:u,onChange:e=>x(e.target.value),size:"small",sx:{flex:j,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,t.jsx)(D.A,{label:"Calculation Revision Number",value:p,onChange:e=>h(e.target.value),size:"small",sx:{flex:j,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,t.jsx)(D.A,{label:"Date",type:"date",value:m,onChange:e=>S(e.target.value),size:"small",sx:{flex:j,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,t.jsx)(f.A,{variant:"outlined",startIcon:(0,t.jsx)(k.A,{}),onClick:()=>{o.current&&g.current&&g.current().set({margin:1,filename:"Drawing-".concat(d||"N/A","-Rev").concat(u||"0","-").concat(m,".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(o.current).save()},sx:{flex:j,minWidth:180},children:"Download PDF"})]}),(0,t.jsx)(N,{ref:o,drawingInfo:{drawingNumber:d,drawingRevision:u,calculationRevision:p,date:m},designParams:a,material:l,pipes:i})]})}var B=s(52145);function z(e){let{materials:l,material:s,designParams:n,onMaterialChange:i,onTemperatureChange:a,onCAChange:d,onDesignPressureChange:c}=e,{pressure:u,temperature:x,corrosionAllowance:h,allowableStress:m}=n;return(0,t.jsxs)(r.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,t.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,t.jsx)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:(0,t.jsx)(D.A,{select:!0,label:"Material",value:s,onChange:e=>i(e.target.value),sx:{minWidth:200,flexGrow:1},size:"small",children:l.map(e=>(0,t.jsx)(v.A,{value:e,children:e},e))})}),(0,t.jsxs)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,t.jsx)(B.A,{label:"Design Pressure",symbol:"P",unit:p.sR.pressure[n.units].unit,value:u,onChange:c,sx:{minWidth:140,flex:1}}),(0,t.jsx)(B.A,{label:"Temperature",symbol:"T",unit:p.sR.temperature[n.units].unit,value:x,onChange:a,sx:{minWidth:140,flex:1}})]}),(0,t.jsxs)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,t.jsx)(B.A,{label:"Corrosion Allowance",symbol:"CA",unit:p.sR.length[n.units].unit,value:h,onChange:d,sx:{minWidth:140,flex:1},precision:4}),(0,t.jsx)(B.A,{label:"Allowable Stress",symbol:"S",unit:p.sR.pressure[n.units].unit,value:m,onChange:()=>{},disabled:!0,sx:{minWidth:140,flex:1}})]})]})}let E=e=>{var l;let{material:s,pipesForDisplay:n,materials:a,designParams:d,setMaterial:c,setTemperature:u,setPipes:x,updatePipe:p,removePipe:h,handleUnitsChange:j,handleCAChange:D,handleDesignPressureChange:v}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch",justifyContent:"center",mt:4},children:[(0,t.jsx)(m.A,{sx:{width:{xs:"100%",md:584},minWidth:{xs:"auto",md:450},display:"flex",flexDirection:"column",height:{xs:"100%",md:305},border:"1px solid #ddd"},elevation:0,children:(0,t.jsxs)(S.A,{sx:{display:"flex",flexDirection:"column",gap:2,height:"100%",p:2},children:[(0,t.jsx)(z,{designParams:{...d,allowableStress:null!=(l=d.allowableStress)?l:0},materials:a,material:s,onUnitsChange:j,onMaterialChange:c,onTemperatureChange:u,onCAChange:D,onDesignPressureChange:v}),(0,t.jsx)(r.default,{sx:{width:"100%",paddingTop:1.5},children:(0,t.jsx)(f.A,{startIcon:(0,t.jsx)(g.A,{}),variant:"outlined",onClick:()=>{x([...n,{id:(0,i.A)(),nps:"2",od:"2.375",schedule:"40",tRequired:0,t:0}])},fullWidth:!0,children:"Add Pipe"})})]})}),(0,t.jsxs)(m.A,{sx:{width:{xs:"100%",md:584},minWidth:{xs:"auto",md:450},display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,t.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Formula"}),(0,t.jsx)(X,{designParams:d})]})]}),(0,t.jsx)(r.default,{sx:{mt:4,display:"flex",flexDirection:"column",gap:2},children:n.map(e=>(0,t.jsx)(w,{pipe:e,updatePipe:p,removePipe:h,designParams:d},e.id))}),(0,t.jsx)(r.default,{sx:{mt:4},children:(0,t.jsx)(F,{material:s,designParams:{...d,allowableStress:d.allowableStress},pipes:n})})]})};function L(e){let{materials:l,material:s,designParams:n,onMaterialChange:i,onTemperatureChange:a,onCAChange:d,onDesignPressureChange:c}=e,{pressure:u,temperature:x,corrosionAllowance:h,allowableStress:m}=n;return(0,t.jsxs)(r.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,t.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,t.jsx)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:(0,t.jsx)(D.A,{select:!0,label:"Material",value:s,onChange:e=>i(e.target.value),sx:{minWidth:200,flexGrow:1},size:"small",children:l.map(e=>(0,t.jsx)(v.A,{value:e,children:e},e))})}),(0,t.jsxs)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,t.jsx)(B.A,{label:"Design Pressure",symbol:"P",unit:p.sR.pressure[n.units].unit,value:u,onChange:c,sx:{minWidth:140,flex:1}}),(0,t.jsx)(B.A,{label:"Temperature",symbol:"T",unit:p.sR.temperature[n.units].unit,value:x,onChange:a,sx:{minWidth:140,flex:1}})]}),(0,t.jsxs)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,t.jsx)(B.A,{label:"Corrosion Allowance",symbol:"CA",unit:p.sR.length[n.units].unit,value:h,onChange:d,sx:{minWidth:140,flex:1},precision:4}),(0,t.jsx)(B.A,{label:"Allowable Stress",symbol:"S",unit:p.sR.pressure[n.units].unit,value:m,onChange:()=>{},disabled:!0,sx:{minWidth:140,flex:1}})]})]})}function q(e){let{designParams:l,onCAChange:s}=e,{corrosionAllowance:n}=l;return(0,t.jsxs)(r.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,t.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,t.jsx)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:(0,t.jsx)(B.A,{label:"Corrosion Allowance",symbol:"CA",unit:p.sR.length[l.units].unit,value:n,onChange:s,sx:{minWidth:140,flex:1},precision:4})})]})}let G=e=>{let{material:l,pipesForDisplay:s,materials:n,designParams:a,setMaterial:d,setPipes:c,updatePipe:u,removePipe:x,handleUnitsChange:p,handleTemperatureChange:h,handleCAChange:S,handleDesignPressureChange:j}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch",mt:4},children:[(0,t.jsxs)(m.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,t.jsx)(q,{designParams:a,onUnitsChange:p,onCAChange:S}),(0,t.jsx)(r.default,{sx:{mt:"auto",width:"100%"},children:(0,t.jsx)(f.A,{startIcon:(0,t.jsx)(g.A,{}),variant:"outlined",onClick:()=>c([{id:(0,i.A)(),nps:"2",od:"2.375",schedule:"40",tRequired:0,t:0}]),fullWidth:!0,children:"Add Pipe"})})]}),(0,t.jsxs)(m.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,t.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Formula"}),(0,t.jsx)(X,{designParams:a})]})]}),s.map(e=>(0,t.jsx)(r.default,{sx:{mt:4,display:"flex",flexDirection:"column",gap:2},children:(0,t.jsxs)(r.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch"},children:[(0,t.jsx)(m.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:350,border:"1px solid #ddd",alignItems:"stretch"},elevation:0,children:(0,t.jsx)(L,{designParams:a,materials:n,material:l,onUnitsChange:p,onMaterialChange:d,onTemperatureChange:h,onCAChange:S,onDesignPressureChange:j})}),(0,t.jsx)(w,{pipe:e,updatePipe:u,removePipe:x,designParams:a})]})},e.id)),(0,t.jsx)(r.default,{sx:{mt:6},children:(0,t.jsx)(F,{material:l,designParams:a,pipes:s})})]})};var U=s(61899),Z=s(78099);function _(){let[e,l]=(0,n.useState)(x.W.Imperial),[s,m]=(0,n.useState)("A106B"),[S,f]=(0,n.useState)(100),[g,j]=(0,n.useState)(null),[D,v]=(0,n.useState)(0),[y,b]=(0,n.useState)(1),[w,X]=(0,n.useState)(1),[T,W]=(0,n.useState)(.4),[H,I]=(0,n.useState)(.125),[C,O]=(0,n.useState)(1414),[P,R]=(0,n.useState)([{id:(0,i.A)(),nps:"4",od:"4.5",schedule:"40",tRequired:0,t:0}]),[M,N]=(0,n.useState)(0);(0,n.useEffect)(()=>{let l=function(e,l,s,t){let n,i=u[e],r=i.columns,a=i.materials[l];if(!a)return console.warn("Warning: Material '".concat(l,"' not found for category '").concat(e,"'. Returning null.")),null;if(0===r.length)return console.warn("Warning: No temperature data available for category '".concat(e,"'. Returning null.")),null;if(!Number.isFinite(n="Metric"===e?t===x.W.Imperial?p.sR.temperature[x.W.Metric].fromImperial(s):s:t===x.W.Metric?p.sR.temperature[x.W.Imperial].toImperial(s):s))return console.warn("Warning: Invalid temperature value for lookup: ".concat(n,". Returning null.")),null;if(n<r[0]||n>r[r.length-1])return console.warn("Warning: Temperature ".concat(n," is out of bounds for ").concat(e," data. ")+"Min: ".concat(r[0],", Max: ").concat(r[r.length-1],". Returning null.")),null;let o=-1;for(let e=0;e<r.length;e++)if(r[e]<=n)o=e;else break;if(r[o]===n){let l=a[o];return"Metric"===e?p.sR.pressure[x.W.Metric].toImperial(l):l}if(-1===o||o+1>=r.length)return console.warn("Warning: Could not find sufficient points for interpolation around temperature ".concat(n,". ")+"Lower index: ".concat(o,", Columns length: ").concat(r.length,". Returning null.")),null;let d=r[o],c=a[o],h=r[o+1],m=a[o+1];if(void 0===c||void 0===m)return console.warn("Warning: Insufficient stress data for material '".concat(l,"' at temperature ").concat(n," for interpolation. ")+"Points: x1=".concat(d,", y1=").concat(c,", x2=").concat(h,", y2=").concat(m,". Material data might end early. Returning null.")),null;let S=(0,Z.Q)(n,d,c,h,m);return"Metric"===e?p.sR.pressure[x.W.Metric].toImperial(S):S}(e===x.W.Imperial?"Imperial":"Metric",s,S,e);l!==g&&j(l),null===l&&console.warn("Could not determine allowable stress for material: ".concat(s,", temperature: ").concat(S,", units: ").concat(e,". Please check inputs and data range."))},[e,s,S,g,j]);let k=(s,t)=>{t&&t!==e&&l(t)},F=(0,n.useMemo)(()=>P.map(l=>{var s,t,n;let i=e===x.W.Metric?null==(s=p.hZ[l.nps])?void 0:s.toString():l.nps,r=null==(t=h[e])?void 0:t[i||""],a=(null==r?void 0:r.OD)||0,o=A({pressure:C,outerDiameterInches:p.sR.length[e].toImperial(a),allowableStress:g,e:y,w,gamma:T,corrosionAllowanceInches:D,millTol:H}),d=null!=(n=null==r?void 0:r.schedules[l.schedule])?n:0;return{...l,tRequired:o,t:d}}),[P,e,C,g,y,w,T,D,H]),B=(0,n.useMemo)(()=>[...new Set([...Object.keys(u.Metric.materials),...Object.keys(u.Imperial.materials)])],[]),{temperatureDisplay:z,allowableStressDisplay:L,corrosionAllowanceDisplay:q,pressureDisplay:_}=(0,n.useMemo)(()=>(0,p.rC)({units:e,temperature:S,allowableStress:g,corrosionAllowance:D,pressure:C}),[e,S,g,D,C]),Q=(0,n.useMemo)(()=>({units:e,pressure:_,temperature:z,corrosionAllowance:q,allowableStress:L,gamma:T,millTol:H,e:y,w,material:s}),[e,_,z,q,L,T,H,y,w,s]),J={units:e,setUnits:l,material:s,setMaterial:m,temperature:S,setTemperature:f,allowableStress:g,setAllowableStress:j,corrosionAllowance:D,setCorrosionAllowance:v,e:y,setE:b,w,setW:X,gamma:T,setGamma:W,millTol:H,setMillTol:I,pressure:C,setPressure:O,pipes:P,setPipes:R,pipesForDisplay:F,materials:B,designParams:Q,updatePipe:(e,l,s)=>{R(t=>t.map(t=>t.id===e?{...t,[l]:s}:t))},removePipe:e=>{R(l=>l.filter(l=>l.id!==e))},handleUnitsChange:k,handleTemperatureChange:l=>{f(p.sR.temperature[e].toImperial(l))},handleCAChange:e=>{v(e)},handleDesignPressureChange:l=>{O(p.sR.pressure[e].toImperial(l))}};return(0,t.jsx)(r.default,{sx:{width:"100%",ml:0},children:(0,t.jsxs)(a.A,{maxWidth:"lg",disableGutters:!0,children:[(0,t.jsx)(o.A,{variant:"h4",fontWeight:"bold",align:"left",gutterBottom:!0,children:"B31.3 Pipe Thickness Calculator"}),(0,t.jsxs)(r.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:{xs:"flex-start",md:"space-between"},alignItems:{xs:"flex-start",md:"center"},gap:{xs:2,md:0},mt:2,mb:2},children:[(0,t.jsxs)(d.A,{value:M,onChange:(e,l)=>N(l),textColor:"primary",indicatorColor:"primary",variant:"scrollable",scrollButtons:"auto",children:[(0,t.jsx)(c.A,{label:"Single Pressure"}),(0,t.jsx)(c.A,{label:"Multiple Pressure"})]}),(0,t.jsx)(U.A,{units:e,onChange:k})]}),0===M&&(0,t.jsx)(E,{...J}),1===M&&(0,t.jsx)(G,{...J})]})})}},61899:(e,l,s)=>{"use strict";s.d(l,{A:()=>d});var t=s(95155);s(12115);var n=s(16324),i=s(27943),r=s(16950),a=s(97644),o=s(64458);function d(e){let{units:l,onChange:s}=e,d=(0,n.A)(),c=(0,i.A)(d.breakpoints.down("md"));return(0,t.jsxs)(r.A,{value:l,exclusive:!0,onChange:s,sx:{display:{xs:"flex",sm:"flex"},width:{xs:"100%"},[d.breakpoints.up("sm")]:{flex:1},justifyContent:{md:"flex-end"}},children:[(0,t.jsx)(a.A,{value:o.W.Imperial,sx:{flexGrow:+!!c},children:"Imperial"}),(0,t.jsx)(a.A,{value:o.W.Metric,sx:{flexGrow:+!!c},children:"Metric"})]})}},64458:(e,l,s)=>{"use strict";s.d(l,{W:()=>t});var t=function(e){return e.Imperial="Imperial",e.Metric="Metric",e}({})},78099:(e,l,s)=>{"use strict";function t(e,l,s,t,n){return l===t?s:s+(n-s)/(t-l)*(e-l)}s.d(l,{Q:()=>t})},89910:(e,l,s)=>{"use strict";s.d(l,{QX:()=>n,hZ:()=>i,rC:()=>a,sR:()=>r});var t=s(64458);let n=["5s","5","10","10s","20","30","40S","STD","40","60","80S","XH","80","100","120","140","160","XXH"],i={"1/8":"10","1/4":"13","3/8":"17","1/2":"21","3/4":"26",1:"33","1-1/4":"42","1-1/2":"48",2:"60","2-1/2":"73",3:"88","3-1/2":"102",4:"114",5:"141",6:"168",8:"219",10:"273",12:"323",14:"355",16:"406",18:"457",20:"508",24:"610",26:"660",28:"711",30:"762",32:"813",34:"864",36:"914"},r={pressure:{[t.W.Imperial]:{to:e=>e,from:e=>e,toImperial:e=>e,fromImperial:e=>e,unit:"psi"},[t.W.Metric]:{to:e=>e,from:e=>e,toImperial:e=>e/6.89476,fromImperial:e=>6.89476*e,unit:"kPa"}},length:{[t.W.Imperial]:{to:e=>e,from:e=>e,toImperial:e=>e,fromImperial:e=>e,unit:"in"},[t.W.Metric]:{to:e=>25.4*e,from:e=>e/25.4,toImperial:e=>e/25.4,fromImperial:e=>25.4*e,unit:"mm"}},temperature:{[t.W.Imperial]:{to:e=>e,from:e=>e,toImperial:e=>e,fromImperial:e=>e,unit:"\xb0F"},[t.W.Metric]:{to:e=>e,from:e=>e,toImperial:e=>9*e/5+32,fromImperial:e=>(e-32)*5/9,unit:"\xb0C"}},nps:{[t.W.Imperial]:{to:e=>e,from:e=>e,toImperial:e=>e,fromImperial:e=>e,unit:"in"},[t.W.Metric]:{to:e=>{var l;return null!=(l=Number(i[e.toString()]))?l:NaN},from:e=>{let l=Object.entries(i).find(l=>{let[,s]=l;return s===e.toString()});return l?Number(l[0]):NaN},toImperial:e=>{let l=Object.entries(i).find(l=>{let[,s]=l;return s===e.toString()});return l?Number(l[0]):NaN},fromImperial:e=>{var l;return null!=(l=Number(i[e.toString()]))?l:NaN},unit:"mm"}}};function a(e){let{units:l,temperature:s,allowableStress:t,corrosionAllowance:n,pressure:i}=e;return{temperatureDisplay:s,pressureDisplay:i,corrosionAllowanceDisplay:n,allowableStressDisplay:null!==t?r.pressure[l].fromImperial(t):0}}}},e=>{var l=l=>e(e.s=l);e.O(0,[349,584,396,216,44,441,684,358],()=>l(24343)),_N_E=e.O()}]);