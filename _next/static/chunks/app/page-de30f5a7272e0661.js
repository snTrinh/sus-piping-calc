(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1899:(e,l,n)=>{"use strict";n.d(l,{A:()=>o});var s=n(5155);n(2115);var t=n(6324),i=n(7943),r=n(6950),a=n(7644),u=n(4458);function o(e){let{units:l,onChange:n}=e,o=(0,t.A)(),d=(0,i.A)(o.breakpoints.down("md"));return(0,s.jsxs)(r.A,{value:l,exclusive:!0,onChange:n,sx:{display:{xs:"flex",sm:"flex"},width:{xs:"100%"},[o.breakpoints.up("sm")]:{flex:1},justifyContent:{md:"flex-end"}},children:[(0,s.jsx)(a.A,{value:u.W.Imperial,sx:{flexGrow:+!!d},children:"Imperial"}),(0,s.jsx)(a.A,{value:u.W.Metric,sx:{flexGrow:+!!d},children:"Metric"})]})}},2145:(e,l,n)=>{"use strict";n.d(l,{A:()=>r});var s=n(5155),t=n(2115),i=n(4602);function r(e){let{label:l,symbol:n,unit:r,value:a,onChange:u,disabled:o=!1,step:d=.01,min:c,max:x,sx:p={},fullWidth:m=!1,percentage:h=!1}=e,f=e=>h?"".concat(((null!=e?e:0)*100).toFixed(2),"%"):(null!=e?e:0).toString(),[S,g]=(0,t.useState)(f(null!=a?a:0));(0,t.useEffect)(()=>{parseFloat(S)!==a&&g(f(null!=a?a:0))},[a,h]);let j=()=>{let e=parseFloat(S.replace(/[^0-9.-]/g,""));isNaN(e)?g(f(null!=a?a:0)):u(h?e/100:e)};return(0,s.jsx)(i.A,{label:"".concat(l).concat(n?", ".concat(n):"").concat(r?" (".concat(r,")"):""),value:S,onChange:e=>{let l=e.target.value;g(l);let n=parseFloat(l.replace(/[^0-9.-]/g,""));isNaN(n)||u(h?n/100:n)},onBlur:j,onKeyDown:e=>{"Enter"===e.key&&(j(),e.target.blur())},size:"small",disabled:o,inputProps:{step:d,min:c,max:x},sx:{minWidth:180,...p,"& input[type=number]::-webkit-inner-spin-button":{"-webkit-appearance":"none"}},fullWidth:m,type:"number"})}},3409:(e,l,n)=>{"use strict";n.d(l,{default:()=>J});var s=n(5155),t=n(2115),i=n(1368),r=n(4581),a=n(2328),u=n(1116),o=n(9267),d=n(5715);let c={Metric:{label:"Up to 40",columns:[40,65,100,150,200,250,300,325,350,375,400,425,450,475,500,525,550,575,600],materials:{A106B:[138e3,138e3,138e3,138e3,138e3,132e3,126e3,122e3,118e3,113e3,95100,79500,62600,45e3,31700,21400,14200,9400,6890],A3336:[138e3,138e3,138e3,138e3,138e3,132e3,126e3,122e3,118e3,113e3,95100,79500,62600,45e3,31700,21400,14200,9400,6890],A312TP316L:[138e3,138e3,138e3,138e3,134e3,125e3,119e3,116e3,114e3,112e3,111e3,11e4,109e3,108e3,107e3,106e3,105e3,97800,80800],A312TP304L:[138e3,138e3,138e3,138e3,129e3,122e3,116e3,113e3,111e3,109e3,107e3,105e3,103e3,101e3,99100,97300]}},Imperial:{label:"Up to 100",columns:[100,200,300,400,500,600,650,700,750,800,850,900,950,1e3,1050,1100],materials:{A106B:[2e4,2e4,2e4,19900,19e3,17900,17300,16700,13900,11400,8700,5900,4e3,2500,1600,1e3],A3336:[2e4,2e4,2e4,19900,19e3,17900,17300,16700,13900,11400,8700,5900,4e3,2500,1600,1e3],A312TP316L:[2e4,2e4,2e4,19300,18e3,17e3,16600,16300,16100,15900,15700,15600,15400,15300,15100,12400],A312TP304L:[2e4,2e4,2e4,18600,17500,16600,16200,15800,15500,15200,14900,14600,14300,14e3,12400,9800]}}};var x=n(4458),p=n(9910);let m=JSON.parse('{"Metric":{"label":"OD in mm","columns":[{"NPS":10,"OD":10.29},{"NPS":13,"OD":13.72},{"NPS":17,"OD":17.15},{"NPS":21,"OD":21.34},{"NPS":26,"OD":26.67},{"NPS":33,"OD":33.4},{"NPS":42,"OD":42.16},{"NPS":48,"OD":48.26},{"NPS":60,"OD":60.33},{"NPS":73,"OD":73.03},{"NPS":88,"OD":88.9},{"NPS":102,"OD":101.6},{"NPS":114,"OD":114.3},{"NPS":141,"OD":141.3},{"NPS":168,"OD":168.28},{"NPS":219,"OD":219.08},{"NPS":273,"OD":273.05},{"NPS":323,"OD":323.85},{"NPS":355,"OD":355.6},{"NPS":406,"OD":406.4},{"NPS":457,"OD":457.2},{"NPS":508,"OD":508},{"NPS":610,"OD":610},{"NPS":660,"OD":660},{"NPS":711,"OD":711},{"NPS":762,"OD":762},{"NPS":813,"OD":813},{"NPS":864,"OD":864},{"NPS":914,"OD":914}],"schedules":{"5":[0.889,1.245,1.245,1.651,1.651,1.651,1.651,1.651,1.651,2.108,2.108,2.108,2.108,2.769,2.769,2.769,3.404,4.191,null,null,null,null,null,null,null,null,null,null,null],"10":[1.245,1.651,1.651,2.108,2.108,2.769,2.769,2.769,2.769,3.048,3.048,3.048,3.048,3.404,3.404,3.759,4.191,4.572,6.35,6.35,6.35,6.35,6.35,null,null,7.92,null,null,null],"20":[null,null,null,null,null,null,null,null,6.35,6.35,6.35,6.35,6.35,6.35,6.35,6.35,6.35,6.35,7.92,7.92,7.92,9.53,9.53,12.7,12.7,12.7,12.7,12.7,null],"30":[null,null,null,null,null,null,null,null,3.912,5.156,5.486,5.74,6.02,6.55,7.11,8.18,9.27,9.53,9.53,9.53,11.13,12.7,14.27,null,15.88,15.88,15.88,15.88,15.88],"40":[1.727,2.235,2.311,2.774,2.87,3.378,3.556,3.683,5.537,7.01,7.62,8.077,8.56,9.53,10.97,12.7,15.09,15.09,15.09,15.09,15.09,15.09,15.09,null,null,17.48,17.48,19.05],"60":[null,null,null,null,null,null,null,null,6.35,7.62,7.62,8.077,8.56,9.53,10.97,12.7,15.09,15.09,15.09,15.09,15.09,15.09,15.09,null,null,null,null],"80":[2.413,3.023,3.201,3.734,3.912,4.547,4.851,5.08,6.35,7.62,7.62,8.077,8.56,9.53,10.97,12.7,15.09,15.09,15.09,15.09,15.09,15.09,15.09],"100":[null,null,null,null,null,8.712,9.525,11.125,16.154,16.66,15.09,18.26,23.01,28.58,34.93,38.1,40.89,45.24,50.8,59.53],"120":[null,null,null,null,null,8.712,9.525,11.125,16.154,16.66,15.09,18.26,23.01,28.58,34.93,38.1,40.89,45.24,50.8,59.53],"140":[null,null,null,null,null,8.712,9.525,11.125,16.154,16.66,15.09,18.26,23.01,28.58,34.93,38.1,40.89,45.24,50.8,59.53],"160":[4.775,5.563,6.35,6.35,7.137,11.074,14.021,15.24,19.05,22.23,25.4,28.58,31.75,37.49,39.67,41.91,47.63,55.56,59.53],"5s":[null,null,null,1.651,1.651,1.651,1.651,1.651,1.651,2.108,2.108,2.108,2.108,2.769,2.769,2.769,3.404,3.962,3.962,4.191,4.191,4.775,5.537,null,null,6.35,null,null,null],"10s":[1.245,1.651,1.651,2.108,2.108,2.769,2.769,2.769,2.769,3.048,3.048,3.048,3.048,3.404,3.404,3.759,4.191,4.572,4.775,4.775,4.775,5.537,6.35,7.92,7.92,7.92,7.92,7.92,7.92],"40S":[1.727,2.235,2.311,2.774,2.87,3.378,3.556,3.683,5.537,7.01,7.62,8.077,8.56,9.53,10.97,12.7,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09],"STD":[1.727,2.235,2.311,2.774,2.87,3.378,3.556,3.683,5.537,7.01,7.62,8.077,8.56,9.53,10.97,12.7,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09],"80S":[2.413,3.023,3.201,3.734,3.912,4.547,4.851,5.08,6.35,7.62,7.62,8.077,8.56,9.53,10.97,12.7,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09],"XH":[2.413,3.023,3.201,3.734,3.912,4.547,4.851,5.08,6.35,7.62,7.62,8.077,8.56,9.53,10.97,12.7,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09,15.09],"XXH":[7.468,7.823,9.093,9.703,10.16,11.074,14.021,15.24,19.05,22.23,25.4,28.58,31.75,37.49,39.67,41.91,47.63,55.56,59.53]}},"Imperial":{"label":"OD in inch (decimal)","columns":[{"NPS":"1/8","OD":0.405},{"NPS":"1/4","OD":0.54},{"NPS":"3/8","OD":0.675},{"NPS":"1/2","OD":0.84},{"NPS":"3/4","OD":1.05},{"NPS":"1","OD":1.315},{"NPS":"1-1/4","OD":1.66},{"NPS":"1-1/2","OD":1.9},{"NPS":"2","OD":2.375},{"NPS":"2-1/2","OD":2.875},{"NPS":"3","OD":3.5},{"NPS":"3-1/2","OD":4},{"NPS":"4","OD":4.5},{"NPS":"5","OD":5.563},{"NPS":"6","OD":6.625},{"NPS":"8","OD":8.625},{"NPS":"10","OD":10.75},{"NPS":"12","OD":12.75},{"NPS":"14","OD":14},{"NPS":"16","OD":16},{"NPS":"18","OD":18},{"NPS":"20","OD":20},{"NPS":"24","OD":24},{"NPS":"26","OD":26},{"NPS":"28","OD":28},{"NPS":"30","OD":30},{"NPS":"32","OD":32},{"NPS":"34","OD":34},{"NPS":"36","OD":36}],"schedules":{"sch1":[null,null,null,0.065,0.065,0.065,0.065,0.065,0.065,0.083,0.083,0.083,0.083,0.109,0.109,0.109,0.134,0.156,0.156,0.165,0.165,0.188,0.218,null,null,0.25,null,null,null],"sch2":[0.035,0.049,0.049,0.065,0.065,0.065,0.065,0.065,0.065,0.083,0.083,0.083,0.083,0.109,0.109,0.109,0.134,0.165,null,null,null,null,null,null,null,null,null,null,null],"sch3":[0.049,0.065,0.065,0.083,0.083,0.109,0.109,0.109,0.109,0.12,0.12,0.12,0.12,0.134,0.134,0.148,0.165,0.18,0.25,0.25,0.25,0.25,0.25,null,null,0.312,null,null,null],"sch4":[0.049,0.065,0.065,0.083,0.083,0.109,0.109,0.109,0.109,0.12,0.12,0.12,0.12,0.134,0.134,0.148,0.165,0.18,0.188,0.188,0.188,0.218,0.25,0.312,0.312,0.312,0.312,0.312,0.312],"sch5":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.25,0.25,0.25,0.312,0.312,0.312,0.375,0.375,0.5,0.5,0.5,0.5,0.5,null],"sch6":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.277,0.307,0.33,0.375,0.375,0.438,0.5,0.562,null,0.625,0.625,0.625,0.625,0.625],"sch7":[0.068,0.088,0.091,0.109,0.113,0.133,0.14,0.145,0.154,0.203,0.216,0.226,0.237,0.258,0.28,0.322,0.365,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375],"sch8":[0.068,0.088,0.091,0.109,0.113,0.133,0.14,0.145,0.154,0.203,0.216,0.226,0.237,0.258,0.28,0.322,0.365,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375,0.375],"sch9":[0.068,0.088,0.091,0.109,0.113,0.133,0.14,0.145,0.154,0.203,0.216,0.226,0.237,0.258,0.28,0.322,0.365,0.406,0.438,0.5,0.562,0.594,0.688,null,null,null,0.688,0.688,0.75],"sch10":[null,null,null,null,null,null,null,null,null,null,null,null,0.281,null,null,0.406,0.5,0.562,0.594,0.656,0.75,0.812,0.969,null,null,null,null,null,null],"sch11":[0.095,0.119,0.126,0.147,0.154,0.179,0.191,0.2,0.218,0.276,0.3,0.318,0.337,0.375,0.432,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,null,0.5,0.5,null,0.5],"sch12":[0.095,0.119,0.126,0.147,0.154,0.179,0.191,0.2,0.218,0.276,0.3,0.318,0.337,0.375,0.432,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,null,0.5,0.5,null,0.5],"sch13":[0.095,0.119,0.126,0.147,0.154,0.179,0.191,0.2,0.218,0.276,0.3,0.318,0.337,0.375,0.432,0.5,0.594,0.688,0.75,0.844,0.938,1.031,1.219,null,null,null,null,null,null],"sch14":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.594,0.719,0.844,0.938,1.031,1.156,1.281,1.531,null,null,null,null,null,null],"sch15":[null,null,null,null,null,null,null,null,null,null,null,null,0.438,0.5,0.562,0.719,0.844,1,1.094,1.218,1.375,1.5,1.812,null,null,null,null,null,null],"sch16":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.812,1,1.125,1.25,1.437,1.562,1.75,2.062,null,null,null,null,null,null],"sch17":[null,null,null,0.188,0.219,0.25,0.25,0.281,0.344,0.375,0.438,null,0.531,0.625,0.719,0.906,1.125,1.312,1.406,1.594,1.781,1.969,2.344,null,null,null,null,null,null],"sch18":[null,null,null,0.294,0.308,0.358,0.382,0.4,0.436,0.552,0.6,0.636,0.674,0.75,0.864,0.875,1,null,null,null,null,null,null,null,null,null,null,null,null]}}}'),h=JSON.parse('{"e":{"1":{"OD":1.315,"schedules":{"5":0.065,"10":0.109,"40":0.133,"80":0.179,"160":0.25,"5S":0.065,"10S":0.109,"40S":0.133,"STD":0.133,"80S":0.179,"XH":0.179,"XXH":0.358}},"2":{"OD":2.375,"schedules":{"5":0.065,"10":0.109,"40":0.154,"80":0.218,"160":0.344,"5S":0.065,"10S":0.109,"40S":0.154,"STD":0.154,"80S":0.218,"XH":0.218,"XXH":0.436}},"3":{"OD":3.5,"schedules":{"5":0.083,"10":0.12,"40":0.216,"80":0.3,"160":0.438,"5S":0.083,"10S":0.12,"40S":0.216,"STD":0.216,"80S":0.3,"XH":0.3,"XXH":0.6}},"4":{"OD":4.5,"schedules":{"5":0.083,"10":0.12,"40":0.237,"60":0.281,"80":0.337,"120":0.438,"160":0.531,"5S":0.083,"10S":0.12,"40S":0.237,"STD":0.237,"80S":0.337,"XH":0.337,"XXH":0.674}},"5":{"OD":5.563,"schedules":{"5":0.109,"10":0.134,"40":0.258,"80":0.375,"120":0.5,"160":0.625,"5S":0.109,"10S":0.134,"40S":0.258,"STD":0.258,"80S":0.375,"XH":0.375,"XXH":0.75}},"6":{"OD":6.625,"schedules":{"5":0.109,"10":0.134,"40":0.28,"80":0.432,"120":0.562,"160":0.719,"5S":0.109,"10S":0.134,"40S":0.28,"STD":0.28,"80S":0.432,"XH":0.432,"XXH":0.864}},"8":{"OD":8.625,"schedules":{"5":0.109,"10":0.148,"20":0.25,"30":0.277,"40":0.322,"60":0.406,"80":0.5,"100":0.594,"120":0.719,"140":0.812,"160":0.906,"5S":0.109,"10S":0.148,"40S":0.322,"STD":0.322,"80S":0.5,"XH":0.5,"XXH":0.875}},"10":{"OD":10.75,"schedules":{"5":0.134,"10":0.165,"20":0.25,"30":0.307,"40":0.365,"60":0.5,"80":0.594,"100":0.719,"120":0.844,"140":1,"160":1.125,"5S":0.134,"10S":0.165,"40S":0.365,"STD":0.365,"80S":0.5,"XH":0.5,"XXH":1}},"12":{"OD":12.75,"schedules":{"5":0.165,"10":0.18,"20":0.25,"30":0.33,"40":0.406,"60":0.562,"80":0.688,"100":0.844,"120":1,"140":1.125,"160":1.312,"5S":0.156,"10S":0.18,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"14":{"OD":14,"schedules":{"10":0.25,"20":0.312,"30":0.375,"40":0.438,"60":0.594,"80":0.75,"100":0.938,"120":1.094,"140":1.25,"160":1.406,"5S":0.156,"10S":0.188,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"16":{"OD":16,"schedules":{"10":0.25,"20":0.312,"30":0.375,"40":0.5,"60":0.656,"80":0.844,"100":1.031,"120":1.218,"140":1.437,"160":1.594,"5S":0.165,"10S":0.188,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"18":{"OD":18,"schedules":{"10":0.25,"20":0.312,"30":0.438,"40":0.562,"60":0.75,"80":0.938,"100":1.156,"120":1.375,"140":1.562,"160":1.781,"5S":0.165,"10S":0.188,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"20":{"OD":20,"schedules":{"10":0.25,"20":0.375,"30":0.5,"40":0.594,"60":0.812,"80":1.031,"100":1.281,"120":1.5,"140":1.75,"160":1.969,"5S":0.188,"10S":0.218,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"24":{"OD":24,"schedules":{"10":0.25,"20":0.375,"30":0.562,"40":0.688,"60":0.969,"80":1.219,"100":1.531,"120":1.812,"140":2.062,"160":2.344,"5S":0.218,"10S":0.25,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"26":{"OD":26,"schedules":{"20":0.5,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"28":{"OD":28,"schedules":{"20":0.5,"30":0.625,"10S":0.312,"40S":0.375,"STD":0.375}},"30":{"OD":30,"schedules":{"10":0.312,"20":0.5,"30":0.625,"5S":0.25,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"32":{"OD":32,"schedules":{"20":0.5,"30":0.625,"40":0.688,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"34":{"OD":34,"schedules":{"20":0.5,"30":0.625,"40":0.688,"10S":0.312,"40S":0.375,"STD":0.375}},"36":{"OD":36,"schedules":{"30":0.625,"40":0.75,"10S":0.312,"40S":0.375,"STD":0.375,"80S":0.5,"XH":0.5}},"1/8":{"OD":0.405,"schedules":{"5":0.035,"10":0.049,"40":0.068,"80":0.095,"10S":0.049,"40S":0.068,"STD":0.068,"80S":0.095,"XH":0.095}},"1/4":{"OD":0.54,"schedules":{"5":0.049,"10":0.065,"40":0.088,"80":0.119,"10S":0.065,"40S":0.088,"STD":0.088,"80S":0.119,"XH":0.119}},"3/8":{"OD":0.675,"schedules":{"5":0.049,"10":0.065,"40":0.091,"80":0.126,"10S":0.065,"40S":0.091,"STD":0.091,"80S":0.126,"XH":0.126}},"1/2":{"OD":0.84,"schedules":{"5":0.065,"10":0.083,"40":0.109,"80":0.147,"160":0.188,"5S":0.065,"10S":0.083,"40S":0.109,"STD":0.109,"80S":0.147,"XH":0.147,"XXH":0.294}},"3/4":{"OD":1.05,"schedules":{"5":0.065,"10":0.083,"40":0.113,"80":0.154,"160":0.219,"5S":0.065,"10S":0.083,"40S":0.113,"STD":0.113,"80S":0.154,"XH":0.154,"XXH":0.308}},"1-1/4":{"OD":1.66,"schedules":{"5":0.065,"10":0.109,"40":0.14,"80":0.191,"160":0.25,"5S":0.065,"10S":0.109,"40S":0.14,"STD":0.14,"80S":0.191,"XH":0.191,"XXH":0.382}},"1-1/2":{"OD":1.9,"schedules":{"5":0.065,"10":0.109,"40":0.145,"80":0.2,"160":0.281,"5S":0.065,"10S":0.109,"40S":0.145,"STD":0.145,"80S":0.2,"XH":0.2,"XXH":0.4}},"2-1/2":{"OD":2.875,"schedules":{"5":0.083,"10":0.12,"40":0.203,"80":0.276,"160":0.375,"5S":0.083,"10S":0.12,"40S":0.203,"STD":0.203,"80S":0.276,"XH":0.276,"XXH":0.552}},"3-1/2":{"OD":4,"schedules":{"5":0.083,"10":0.12,"40":0.226,"80":0.318,"5S":0.083,"10S":0.12,"40S":0.226,"STD":0.226,"80S":0.318,"XH":0.318,"XXH":0.636}}}}');var f=n(1899),S=n(1218),g=n(6632),j=n(8534),D=n(4637),v=n(3127),y=n(4602),b=n(9931),A=n(4172),P=n(6324);let w=["5","10","40","80"];function W(e){var l,n,t,i,a;let{pipe:o,updatePipe:d,removePipe:c,units:f,sx:j}=e,D=(0,P.A)(),W=null!=(a=null==(l=h.e[o.nps])?void 0:l.schedules[o.schedule])?a:0,O=p.sR.length[f],N=O.unit,C=p.sR.length[f].to(o.tRequired),I=O.to(W),T=f===x.W.Metric?p.hZ[o.nps]:o.nps,R=(null==(i=m[f])||null==(t=i.columns)||null==(n=t.find(e=>e.NPS===T))?void 0:n.OD)||0;return(0,s.jsx)(S.A,{sx:{borderRadius:2,border:"1px solid #ddd",boxShadow:"none",position:"relative",...j},children:(0,s.jsxs)(g.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[" ",(0,s.jsxs)(r.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(u.A,{variant:"h6",gutterBottom:!1,children:[" ","Pipe — NPS ",o.nps,", Schedule ",o.schedule]}),(0,s.jsx)(v.A,{"aria-label":"remove pipe",onClick:()=>c(o.id),sx:{color:D.palette.error.main,p:.5},children:(0,s.jsx)(A.A,{})})]}),(0,s.jsxs)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:[(0,s.jsx)(y.A,{select:!0,label:"NPS (".concat(N,")"),value:o.nps,onChange:e=>d(o.id,"nps",e.target.value),sx:{minWidth:120,flexGrow:1,flexBasis:"120px"},size:"small",children:Object.entries(p.hZ).sort((e,l)=>{let[n]=e,[s]=l,t=e=>{if(e.includes(" ")){let[l,n]=e.split(" "),[s,t]=n.split("/").map(Number);return Number(l)+s/t}if(!e.includes("/"))return Number(e);{let[l,n]=e.split("/").map(Number);return l/n}};return t(n)-t(s)}).map(e=>{let[l,n]=e;return(0,s.jsx)(b.A,{value:l,children:f===x.W.Metric?n:l},l)})}),(0,s.jsx)(y.A,{select:!0,label:"Schedule",value:o.schedule,onChange:e=>d(o.id,"schedule",e.target.value),sx:{minWidth:120,flexGrow:1,flexBasis:"120px"},size:"small",children:w.map(e=>(0,s.jsx)(b.A,{value:e,children:e},e))})]}),(0,s.jsx)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,s.jsx)(y.A,{label:"Outer Diameter, D (".concat(N,")"),value:R.toFixed(2),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,s.jsx)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,s.jsx)(y.A,{label:"Required Thickness, tᵣ (".concat(N,")"),value:C.toFixed(3),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,s.jsx)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,s.jsx)(y.A,{label:"Schedule Thickness (".concat(N,")"),value:I.toFixed(3),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,s.jsxs)(u.A,{sx:{textAlign:"right"},children:[" ",(0,s.jsx)("strong",{children:"Result:"})," ",I>=C?(0,s.jsx)("span",{style:{color:D.palette.success.main,fontWeight:"bold"},children:"ACCEPTABLE"}):(0,s.jsx)("span",{style:{color:D.palette.error.main,fontWeight:"bold"},children:"NOT ACCEPTABLE"})]})]})})}function O(e){var l,n,t,i;let{designParams:a}=e,o=(0,P.A)(),d=null!=(l=null==a?void 0:a.e)?l:1,c=null!=(n=null==a?void 0:a.w)?n:1,x=null!=(t=null==a?void 0:a.gamma)?t:.4,p=null!=(i=null==a?void 0:a.millTol)?i:.125;return(0,s.jsxs)(r.default,{sx:{backgroundColor:o.palette.background.default,p:2,borderRadius:1,overflow:"hidden"},children:[(0,s.jsx)(u.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:"bold",mb:1},children:"Required Thickness (ASME B31.3):"}),(0,s.jsxs)(u.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:[(0,s.jsx)(u.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"tᵣ = ("}),(0,s.jsxs)(r.default,{sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:1},children:[(0,s.jsx)(r.default,{sx:{borderBottom:"1px solid ".concat(o.palette.text.primary," !important"),px:.5,textAlign:"center",whiteSpace:"nowrap"},children:"(P \xd7 D)"}),(0,s.jsx)(r.default,{sx:{px:.5,mt:.2,whiteSpace:"nowrap",textAlign:"center"},children:"[2(SEW + Pγ)]"})]}),(0,s.jsx)(u.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"+ CA )"}),(0,s.jsx)(u.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"\xd7"}),(0,s.jsxs)(r.default,{sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:1,whiteSpace:"nowrap",ml:1},children:[(0,s.jsx)(r.default,{sx:{borderBottom:"1px solid ".concat(o.palette.text.primary," !important"),px:.5,mt:.3,textAlign:"center"},children:"1"}),(0,s.jsx)(r.default,{sx:{px:.5,mt:.2,textAlign:"center"},children:"(1 - Mill Tolerance)"})]})]}),(0,s.jsx)(u.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:"bold",mb:1,mt:2},children:"Assumptions:"}),(0,s.jsx)(u.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,s.jsxs)(u.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Weld Joint Efficiency, E = ",(0,s.jsx)("strong",{children:d})]})}),(0,s.jsx)(u.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,s.jsxs)(u.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Weld Strength Reduction Factor, W = ",(0,s.jsx)("strong",{children:c})]})}),(0,s.jsx)(u.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,s.jsxs)(u.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Temperature Coefficient, γ = ",(0,s.jsx)("strong",{children:x})]})}),(0,s.jsx)(u.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,s.jsxs)(u.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Mill Tolerance Factor, % = ",(0,s.jsxs)("strong",{children:[100*p,"%"]})]})})]})}var N=n(2145);function C(e){let{materials:l,material:n,designParams:t,onMaterialChange:i,onTemperatureChange:a,onCAChange:o,onDesignPressureChange:d}=e,{pressure:c,temperature:x,corrosionAllowance:m,allowableStress:h}=t;return(0,s.jsxs)(r.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,s.jsx)(u.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,s.jsx)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:(0,s.jsx)(y.A,{select:!0,label:"Material",value:n,onChange:e=>i(e.target.value),sx:{minWidth:200,flexGrow:1},size:"small",children:l.map(e=>(0,s.jsx)(b.A,{value:e,children:e},e))})}),(0,s.jsxs)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,s.jsx)(N.A,{label:"Design Pressure",symbol:"P",unit:p.sR.pressure[t.units].unit,value:c,onChange:d,sx:{minWidth:140,flex:1}}),(0,s.jsx)(N.A,{label:"Temperature",symbol:"T",unit:p.sR.temperature[t.units].unit,value:x,onChange:a,sx:{minWidth:140,flex:1}})]}),(0,s.jsxs)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,s.jsx)(N.A,{label:"Corrosion Allowance",symbol:"CA",unit:p.sR.length[t.units].unit,value:m,onChange:o,sx:{minWidth:140,flex:1}}),(0,s.jsx)(N.A,{label:"Allowable Stress",symbol:"S",unit:p.sR.pressure[t.units].unit,value:h,onChange:()=>{},disabled:!0,sx:{minWidth:140,flex:1}})]})]})}let I={display:"flex",alignItems:"center",marginBottom:8},T={fontWeight:"bold",minWidth:220,marginRight:8,whiteSpace:"nowrap"},R={minWidth:100,textAlign:"right",marginRight:8},X={minWidth:80},H=e=>{let{drawingInfo:l,designParams:n}=e,{units:t,pressure:i,temperature:a,corrosionAllowance:o,allowableStress:d,gamma:c}=n;return(0,s.jsxs)(r.default,{sx:{mb:4},children:[(0,s.jsxs)(r.default,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",mb:2},children:[(0,s.jsxs)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[(0,s.jsx)(u.A,{fontWeight:"bold",children:"Drawing Number:"}),(0,s.jsx)(u.A,{children:l.drawingNumber}),(0,s.jsx)(u.A,{fontWeight:"bold",sx:{ml:2},children:"Revision:"}),(0,s.jsx)(u.A,{children:l.drawingRevision})]}),(0,s.jsxs)(r.default,{children:[(0,s.jsx)(u.A,{fontWeight:"bold",display:"inline",children:"Date:"})," ",(0,s.jsx)(u.A,{display:"inline",children:l.date})]})]}),(0,s.jsxs)(r.default,{children:[(0,s.jsxs)("div",{style:I,children:[(0,s.jsx)("div",{style:T,children:"Calculation Revision:"}),(0,s.jsx)("div",{style:R,children:l.calculationRevision}),(0,s.jsx)("div",{style:X})]}),(0,s.jsxs)("div",{style:I,children:[(0,s.jsx)("div",{style:T,children:"Units:"}),(0,s.jsx)("div",{style:R,children:t}),(0,s.jsx)("div",{style:X})]}),(0,s.jsxs)("div",{style:I,children:[(0,s.jsx)("div",{style:T,children:"Design Pressure:"}),(0,s.jsx)("div",{style:R,children:i}),(0,s.jsx)("div",{style:X,children:p.sR.pressure[t].unit})]}),(0,s.jsxs)("div",{style:I,children:[(0,s.jsx)("div",{style:T,children:"Design Temperature:"}),(0,s.jsx)("div",{style:R,children:a}),(0,s.jsx)("div",{style:X,children:p.sR.temperature[t].unit})]}),(0,s.jsxs)("div",{style:I,children:[(0,s.jsx)("div",{style:T,children:"Corrosion Allowance:"}),(0,s.jsx)("div",{style:R,children:o}),(0,s.jsx)("div",{style:X,children:p.sR.length[t].unit})]}),(0,s.jsxs)("div",{style:I,children:[(0,s.jsx)("div",{style:T,children:"Maximum Allowable Stress:"}),(0,s.jsx)("div",{style:R,children:d}),(0,s.jsx)("div",{style:X,children:p.sR.pressure[t].unit})]}),(0,s.jsxs)("div",{style:I,children:[(0,s.jsx)("div",{style:T,children:"Temperature Coefficient, γ:"}),(0,s.jsx)("div",{style:R,children:null!=c?c:""}),(0,s.jsx)("div",{style:X})]})]})]})},M={marginBottom:8,display:"block"},k={display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:12,lineHeight:1,marginLeft:4,marginRight:4},F={padding:"0 4px",textAlign:"center"},B=e=>{var l;let{pipes:n,material:t,designParams:i}=e,r=(0,P.A)(),{pressure:a,corrosionAllowance:u,allowableStress:o,e:d,w:c,gamma:f}=i,S=1-(null!=(l=i.millTol)?l:0),g={padding:"0 4px",marginTop:2,textAlign:"center",borderTop:"1px solid ".concat(r.palette.text.primary)};return(0,s.jsx)(s.Fragment,{children:n.map((e,l)=>{var n,j,D,v,y;let b=null!=(y=null==(n=h.e[e.nps])?void 0:n.schedules[e.schedule])?y:0,A=i.units,P=p.sR.length[A],w=p.sR.pressure[A],W=P.to(b),O=A===x.W.Metric?p.hZ[e.nps]:e.nps,N=(null==(v=m[A])||null==(D=v.columns)||null==(j=D.find(e=>e.NPS===O))?void 0:j.OD)||0,C=w.toImperial(a),I=p.sR.length[A].toImperial(N),T=P.toImperial(u),R=C*I,X=2*((null!=o?o:0)*(null!=d?d:1)*(null!=c?c:1)+C*(null!=f?f:1)),H=P.to(e.tRequired);return(0,s.jsxs)("div",{style:{borderTop:"1px solid ".concat(r.palette.divider),paddingTop:10,marginTop:16},children:[(0,s.jsxs)("div",{style:M,children:[(0,s.jsxs)("strong",{children:["Pipe ",l+1]})," — For NPS ",e.nps," SCH"," ",e.schedule," ",t," (D=",N.toFixed(3),P.unit,", t ="," ",W.toFixed(3),P.unit,"):"]}),(0,s.jsxs)("div",{style:{marginTop:8,marginLeft:24},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"tᵣ = ("}),(0,s.jsxs)("span",{style:k,children:[(0,s.jsx)("span",{style:F,children:"P \xd7 D"}),(0,s.jsx)("span",{style:g,children:"2(SEW + Pγ)"})]}),(0,s.jsx)("span",{children:"+ CA ) \xd7 "}),(0,s.jsxs)("span",{style:k,children:[(0,s.jsx)("span",{style:F,children:"1"}),(0,s.jsx)("span",{style:g,children:"(1 - Mill Tolerance)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"tᵣ = ("}),(0,s.jsxs)("span",{style:k,children:[(0,s.jsxs)("span",{style:F,children:[C.toFixed(2),p.sR.pressure[x.W.Imperial].unit," \xd7"," ",I.toFixed(3),p.sR.length[x.W.Imperial].unit]}),(0,s.jsxs)("span",{style:g,children:["2((",(null!=o?o:0).toFixed(2),p.sR.pressure[x.W.Imperial].unit,")(",d,")(",c,") + (",C.toFixed(2),p.sR.pressure[x.W.Imperial].unit,")(",f,"))"]})]}),(0,s.jsxs)("span",{children:["+ ",T.toFixed(3),p.sR.length[x.W.Imperial].unit,") \xd7"," "]}),(0,s.jsxs)("span",{style:k,children:[(0,s.jsx)("span",{style:F,children:"1"}),(0,s.jsxs)("span",{style:g,children:["(1 - ",i.millTol,")"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"tᵣ = ("}),(0,s.jsxs)("span",{style:k,children:[(0,s.jsx)("span",{style:F,children:R.toFixed(2)}),(0,s.jsx)("span",{style:g,children:X.toFixed(2)})]}),(0,s.jsxs)("span",{children:[p.sR.length[x.W.Imperial].unit," +"," ",T.toFixed(3),p.sR.length[x.W.Imperial].unit,") \xd7"," "]}),(0,s.jsxs)("span",{style:k,children:[(0,s.jsx)("span",{style:F,children:"1"}),(0,s.jsxs)("span",{style:g,children:["(",S.toFixed(3),")"]})]})]})]}),(0,s.jsx)("div",{style:{marginTop:8,marginLeft:24},children:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:["tᵣ ="," ",H.toFixed(3)," "," ",P.unit]})})}),(0,s.jsx)("div",{style:{marginTop:8},children:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:["t ",W>H?">":"<"," ","tᵣ ∴"," ",W>H?(0,s.jsx)("span",{style:{color:r.palette.success.main,fontWeight:"bold"},children:"Acceptable"}):(0,s.jsx)("span",{style:{color:r.palette.error.main,fontWeight:"bold"},children:"Not Acceptable"})]})})})]},e.id)})})},z=(0,t.forwardRef)((e,l)=>{let{drawingInfo:n,designParams:t,material:i,pipes:r}=e,a=(0,P.A)();return(0,s.jsxs)("div",{ref:l,style:{padding:10,maxWidth:600,fontSize:14,fontFamily:"'Calibri', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:a.palette.text.primary},children:[(0,s.jsx)(H,{drawingInfo:n,designParams:t}),(0,s.jsx)(B,{pipes:r,designParams:t,material:i})]})});z.displayName="PdfContent";var E=n(4239);function L(e){let{material:l,pipes:n,designParams:i}=e,a=(0,t.useRef)(null),[u,o]=(0,t.useState)(""),[d,c]=(0,t.useState)("0"),[x,p]=(0,t.useState)("0"),[m,h]=(0,t.useState)(()=>new Date().toISOString().split("T")[0]),f={xs:"1 1 100%",sm:"1 1 calc(50% - 8px)",md:"1 1 0%"};return(0,s.jsxs)(r.default,{sx:{mb:4,p:3,bgcolor:"background.paper",borderRadius:2,border:"1px solid #ddd"},children:[(0,s.jsxs)(r.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[(0,s.jsx)(y.A,{label:"Drawing Number",value:u,onChange:e=>o(e.target.value),size:"small",sx:{flex:f,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,s.jsx)(y.A,{label:"Drawing Revision Number",value:d,onChange:e=>c(e.target.value),size:"small",sx:{flex:f,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,s.jsx)(y.A,{label:"Calculation Revision Number",value:x,onChange:e=>p(e.target.value),size:"small",sx:{flex:f,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,s.jsx)(y.A,{label:"Date",type:"date",value:m,onChange:e=>h(e.target.value),size:"small",sx:{flex:f,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,s.jsx)(j.A,{variant:"outlined",startIcon:(0,s.jsx)(E.A,{}),onClick:()=>{a.current&&(window.html2pdf?window.html2pdf().set({margin:1,filename:"document.pdf",image:{type:"jpeg",quality:.98},html2canvas:{},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(a.current).save():console.error("html2pdf.js not loaded."))},sx:{flex:f,minWidth:180},children:"Download PDF"})]}),(0,s.jsx)(z,{ref:a,drawingInfo:{drawingNumber:u,drawingRevision:d,calculationRevision:x,date:m},designParams:i,material:l,pipes:n})]})}var G=n(8099);function q(e,l,n,s){let t,i=c[e],r=i.columns,a=i.materials[l];if(!a)return console.warn("Warning: Material '".concat(l,"' not found for category '").concat(e,"'. Returning null.")),null;if(0===r.length)return console.warn("Warning: No temperature data available for category '".concat(e,"'. Returning null.")),null;if(!Number.isFinite(t="Metric"===e?s===x.W.Imperial?p.sR.temperature[x.W.Metric].fromImperial(n):n:s===x.W.Metric?p.sR.temperature[x.W.Imperial].toImperial(n):n))return console.warn("Warning: Invalid temperature value for lookup: ".concat(t,". Returning null.")),null;if(t<r[0]||t>r[r.length-1])return console.warn("Warning: Temperature ".concat(t," is out of bounds for ").concat(e," data. ")+"Min: ".concat(r[0],", Max: ").concat(r[r.length-1],". Returning null.")),null;let u=-1;for(let e=0;e<r.length;e++)if(r[e]<=t)u=e;else break;if(r[u]===t){let l=a[u];return"Metric"===e?p.sR.pressure[x.W.Metric].toImperial(l):l}if(-1===u||u+1>=r.length)return console.warn("Warning: Could not find sufficient points for interpolation around temperature ".concat(t,". ")+"Lower index: ".concat(u,", Columns length: ").concat(r.length,". Returning null.")),null;let o=r[u],d=a[u],m=r[u+1],h=a[u+1];if(void 0===d||void 0===h)return console.warn("Warning: Insufficient stress data for material '".concat(l,"' at temperature ").concat(t," for interpolation. ")+"Points: x1=".concat(o,", y1=").concat(d,", x2=").concat(m,", y2=").concat(h,". Material data might end early. Returning null.")),null;let f=(0,G.Q)(t,o,d,m,h);return"Metric"===e?p.sR.pressure[x.W.Metric].toImperial(f):f}let U=e=>{var l,n;let{units:a,material:o,temperature:d,pipesForDisplay:c,materials:x,designParams:p,setMaterial:m,setTemperature:h,setAllowableStress:f,setPipes:v,updatePipe:y,removePipe:b,handleUnitsChange:A,handleCAChange:P,handleDesignPressureChange:w}=e;return(0,t.useEffect)(()=>{let e=q("Imperial"===a?"Imperial":"Metric",o,d,a);f(e),null===e&&console.warn("Could not determine allowable stress for material: ".concat(o,", temperature: ").concat(d,", units: ").concat(a,". Please check inputs and data range."))},[a,o,d,f]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch",justifyContent:"center",mt:4},children:[(0,s.jsx)(S.A,{sx:{width:{xs:"100%",md:584},minWidth:{xs:"auto",md:450},display:"flex",flexDirection:"column",height:305,border:"1px solid #ddd"},elevation:0,children:(0,s.jsxs)(g.A,{sx:{display:"flex",flexDirection:"column",gap:2,height:"100%",p:2},children:[(0,s.jsx)(C,{designParams:{...p,allowableStress:null!=(l=p.allowableStress)?l:0},materials:x,material:o,onUnitsChange:A,onMaterialChange:m,onTemperatureChange:h,onCAChange:P,onDesignPressureChange:w}),(0,s.jsx)(r.default,{sx:{width:"100%",paddingTop:1.5},children:(0,s.jsx)(j.A,{startIcon:(0,s.jsx)(D.A,{}),variant:"outlined",onClick:()=>{v([...c,{id:(0,i.A)(),nps:"2",od:"2.375",schedule:"40",tRequired:0,t:0}])},fullWidth:!0,children:"Add Pipe"})})]})}),(0,s.jsxs)(S.A,{sx:{width:{xs:"100%",md:584},minWidth:{xs:"auto",md:450},display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,s.jsx)(u.A,{variant:"h6",gutterBottom:!0,children:"Formula"}),(0,s.jsx)(O,{designParams:p})]})]}),(0,s.jsx)(r.default,{sx:{mt:4,display:"flex",flexDirection:"column",gap:2},children:c.map(e=>(0,s.jsx)(W,{pipe:e,updatePipe:y,removePipe:b,units:a},e.id))}),(0,s.jsx)(r.default,{sx:{mt:4},children:(0,s.jsx)(L,{material:o,designParams:{...p,allowableStress:null!=(n=p.allowableStress)?n:0},pipes:c})})]})};function _(e){let{materials:l,material:n,designParams:t,onMaterialChange:i,onTemperatureChange:a,onCAChange:o,onDesignPressureChange:d}=e,{pressure:c,temperature:x,corrosionAllowance:m,allowableStress:h}=t;return(0,s.jsxs)(r.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,s.jsx)(u.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,s.jsx)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:(0,s.jsx)(y.A,{select:!0,label:"Material",value:n,onChange:e=>i(e.target.value),sx:{minWidth:200,flexGrow:1},size:"small",children:l.map(e=>(0,s.jsx)(b.A,{value:e,children:e},e))})}),(0,s.jsxs)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,s.jsx)(N.A,{label:"Design Pressure",symbol:"P",unit:p.sR.pressure[t.units].unit,value:c,onChange:d,sx:{minWidth:140,flex:1}}),(0,s.jsx)(N.A,{label:"Temperature",symbol:"T",unit:p.sR.temperature[t.units].unit,value:x,onChange:a,sx:{minWidth:140,flex:1}})]}),(0,s.jsxs)(r.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,s.jsx)(N.A,{label:"Corrosion Allowance",symbol:"CA",unit:p.sR.length[t.units].unit,value:m,onChange:o,sx:{minWidth:140,flex:1}}),(0,s.jsx)(N.A,{label:"Allowable Stress",symbol:"S",unit:p.sR.pressure[t.units].unit,value:h,onChange:()=>{},disabled:!0,sx:{minWidth:140,flex:1}})]})]})}let Z=e=>{let{units:l,material:n,pipesForDisplay:t,materials:a,designParams:o,setMaterial:d,setPipes:c,updatePipe:x,removePipe:p,handleUnitsChange:m,handleTemperatureChange:h,handleCAChange:f,handleDesignPressureChange:g}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch",mt:4},children:[(0,s.jsxs)(S.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,s.jsx)(_,{designParams:o,materials:a,material:n,onUnitsChange:m,onMaterialChange:d,onTemperatureChange:h,onCAChange:f,onDesignPressureChange:g}),(0,s.jsx)(r.default,{sx:{mt:"auto",width:"100%"},children:(0,s.jsx)(j.A,{startIcon:(0,s.jsx)(D.A,{}),variant:"outlined",onClick:()=>c([{id:(0,i.A)(),nps:"2",od:"2.375",schedule:"40",tRequired:0,t:0}]),fullWidth:!0,children:"Add Pipe"})})]}),(0,s.jsxs)(S.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,s.jsx)(u.A,{variant:"h6",gutterBottom:!0,children:"Formula"}),(0,s.jsx)(O,{designParams:o})]})]}),(0,s.jsx)(r.default,{sx:{mt:4,display:"flex",flexDirection:"column",gap:2},children:t.map(e=>(0,s.jsxs)(r.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch"},children:[(0,s.jsx)(S.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:350,border:"1px solid #ddd",alignItems:"stretch"},elevation:0,children:(0,s.jsx)(_,{designParams:o,materials:a,material:n,onUnitsChange:m,onMaterialChange:d,onTemperatureChange:h,onCAChange:f,onDesignPressureChange:g})}),(0,s.jsx)(W,{pipe:e,updatePipe:x,removePipe:p,units:l,sx:{flex:1,minWidth:450}})]},e.id))}),(0,s.jsx)(r.default,{sx:{mt:6},children:(0,s.jsx)(L,{material:n,designParams:o,pipes:t})})]})};function J(){let[e,l]=(0,t.useState)(x.W.Imperial),[n,S]=(0,t.useState)("A106B"),[g,j]=(0,t.useState)(100),[D,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(0),[A,P]=(0,t.useState)(1),[w,W]=(0,t.useState)(1),[O,N]=(0,t.useState)(.4),[C,I]=(0,t.useState)(.125),[T,R]=(0,t.useState)(1414),[X,H]=(0,t.useState)([{id:(0,i.A)(),nps:"4",od:"4.5",schedule:"40",tRequired:0,t:0}]),[M,k]=(0,t.useState)(0);(0,t.useEffect)(()=>{let l=q(e===x.W.Imperial?"Imperial":"Metric",n,g,e);v(l),null===l&&console.warn("Could not determine allowable stress for material: ".concat(n,", temperature: ").concat(g,", units: ").concat(e,". Please check inputs and data range."))},[e,n,g]),(0,t.useEffect)(()=>{console.log("--- Calculating tRequired and t for pipes ---"),H(l=>l.map(l=>{var n,s,t,i,r;let a=e===x.W.Metric?p.hZ[l.nps]:l.nps,u=(null==(t=m[e])||null==(s=t.columns)||null==(n=s.find(e=>e.NPS===a))?void 0:n.OD)||0;console.log("Pipe ".concat(l.nps," OD (display units): ").concat(u));let o=p.sR.length[e],d=o.toImperial(u),c=o.toImperial(y);console.log("Pressure (internal/PSI): ".concat(T)),console.log("Allowable Stress (internal/PSI): ".concat(D)),console.log("E: ".concat(A,", W: ").concat(w,", Gamma: ").concat(O)),console.log("Corrosion Allowance (internal/inches): ".concat(c)),console.log("Mill Tolerance: ".concat(C));let f=T*d,S=2*((null!=D?D:0)*A*w+T*O);console.log("Numerator: ".concat(f)),console.log("Denominator: ".concat(S));let g=0!==S?1/(1-C)*(f/S+c):0;console.log("Calculated tRequired for pipe ".concat(l.nps,": ").concat(g));let j=null!=(r=null==(i=h.e[l.nps])?void 0:i.schedules[l.schedule])?r:0;return console.log("Raw schedule thickness for pipe ".concat(l.nps," SCH ").concat(l.schedule," (Imperial inches): ").concat(j)),{...l,tRequired:g,t:j}}))},[T,D,A,w,O,y,e,C,X]);let F=(n,s)=>{s&&s!==e&&l(s)},B=(0,t.useMemo)(()=>X.map(e=>({...e})),[X]),z=(0,t.useMemo)(()=>[...new Set([...Object.keys(c.Metric.materials),...Object.keys(c.Imperial.materials)])],[]),{temperatureDisplay:E,allowableStressDisplay:L,corrosionAllowanceDisplay:G,pressureDisplay:_}=(0,t.useMemo)(()=>(0,p.rC)({units:e,temperature:g,allowableStress:D,corrosionAllowance:y,pressure:T}),[e,g,D,y,T]),J=(0,t.useMemo)(()=>({units:e,pressure:_,temperature:E,corrosionAllowance:G,allowableStress:L,gamma:O,millTol:C,e:A,w,material:n}),[e,_,E,G,L,O,C,A,w,n]),Q={units:e,setUnits:l,material:n,setMaterial:S,temperature:g,setTemperature:j,allowableStress:D,setAllowableStress:v,corrosionAllowance:y,setCorrosionAllowance:b,e:A,setE:P,w,setW:W,gamma:O,setGamma:N,millTol:C,setMillTol:I,pressure:T,setPressure:R,pipes:X,setPipes:H,pipesForDisplay:B,materials:z,designParams:J,updatePipe:(e,l,n)=>{H(s=>s.map(s=>s.id===e?{...s,[l]:n}:s))},removePipe:e=>{H(l=>l.filter(l=>l.id!==e))},handleUnitsChange:F,handleTemperatureChange:l=>{j(p.sR.temperature[e].toImperial(l))},handleCAChange:l=>{b(p.sR.length[e].toImperial(l))},handleDesignPressureChange:l=>{R(p.sR.pressure[e].toImperial(l))}};return(0,s.jsx)(r.default,{sx:{width:"100%",ml:0},children:(0,s.jsxs)(a.A,{maxWidth:"lg",disableGutters:!0,children:[(0,s.jsx)(u.A,{variant:"h4",fontWeight:"bold",align:"left",gutterBottom:!0,children:"B31.3 Pipe Thickness Calculator"}),(0,s.jsxs)(r.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:{xs:"flex-start",md:"space-between"},alignItems:{xs:"flex-start",md:"center"},gap:{xs:2,md:0},mt:2,mb:2},children:[(0,s.jsxs)(o.A,{value:M,onChange:(e,l)=>k(l),textColor:"primary",indicatorColor:"primary",variant:"scrollable",scrollButtons:"auto",children:[(0,s.jsx)(d.A,{label:"Single Pressure"}),(0,s.jsx)(d.A,{label:"Multiple Pressures"})]}),(0,s.jsx)(f.A,{units:e,onChange:F})]}),0===M&&(0,s.jsx)(U,{...Q}),1===M&&(0,s.jsx)(Z,{...Q})]})})}},4343:(e,l,n)=>{Promise.resolve().then(n.bind(n,4581)),Promise.resolve().then(n.bind(n,3409))},4458:(e,l,n)=>{"use strict";n.d(l,{W:()=>s});var s=function(e){return e.Imperial="Imperial",e.Metric="Metric",e}({})},8099:(e,l,n)=>{"use strict";function s(e,l,n,s,t){return l===s?n:n+(t-n)/(s-l)*(e-l)}n.d(l,{Q:()=>s})},9910:(e,l,n)=>{"use strict";n.d(l,{hZ:()=>t,rC:()=>r,sR:()=>i});var s=n(4458);let t={"1/8":10,"1/4":13,"3/8":17,"1/2":21,"3/4":27,1:33,"1 1/4":42,"1 1/2":48,2:60,"2 1/2":73,3:89,4:114,5:141,6:168,8:219,10:273,12:324,14:356,16:406,18:457,20:508,24:610},i={pressure:{[s.W.Imperial]:{to:e=>e,from:e=>e,toImperial:e=>e,fromImperial:e=>e,unit:"psi"},[s.W.Metric]:{to:e=>e,from:e=>e,toImperial:e=>e/6.89476,fromImperial:e=>6.89476*e,unit:"kPa"}},length:{[s.W.Imperial]:{to:e=>e,from:e=>e,toImperial:e=>e,fromImperial:e=>e,unit:"in"},[s.W.Metric]:{to:e=>e,from:e=>e,toImperial:e=>e/25.4,fromImperial:e=>25.4*e,unit:"mm"}},temperature:{[s.W.Imperial]:{to:e=>e,from:e=>e,toImperial:e=>e,fromImperial:e=>e,unit:"\xb0F"},[s.W.Metric]:{to:e=>e,from:e=>e,toImperial:e=>9*e/5+32,fromImperial:e=>(e-32)*5/9,unit:"\xb0C"}},nps:{[s.W.Imperial]:{to:e=>e,from:e=>e,toImperial:e=>e,fromImperial:e=>e,unit:"in"},[s.W.Metric]:{to:e=>{var l;return null!=(l=t[e])?l:NaN},from:e=>{let l=Object.entries(t).find(l=>{let[,n]=l;return n===e});return l?Number(l[0]):NaN},toImperial:e=>{let l=Object.entries(t).find(l=>{let[,n]=l;return n===e});return l?Number(l[0]):NaN},fromImperial:e=>{var l;return null!=(l=t[e])?l:NaN},unit:"mm"}}};function r(e){let{units:l,temperature:n,allowableStress:s,corrosionAllowance:t,pressure:r}=e;return{temperatureDisplay:n,pressureDisplay:r,corrosionAllowanceDisplay:t,allowableStressDisplay:null!==s?i.pressure[l].fromImperial(s):0}}}},e=>{var l=l=>e(e.s=l);e.O(0,[296,602,354,396,667,735,441,684,358],()=>l(4343)),_N_E=e.O()}]);