(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{24343:(e,l,s)=>{Promise.resolve().then(s.bind(s,54581)),Promise.resolve().then(s.bind(s,36796))},36796:(e,l,s)=>{"use strict";s.d(l,{default:()=>K});var t=s(95155),i=s(12115),n=s(54581),r=s(42328),a=s(71116),o=s(29267),d=s(18096),x=s(51368),c=s(41218),p=s(68534),u=s(74637),m=s(16632),h=s(3127),f=s(84602),g=s(9931),j=s(84172),b=s(16324),v=s(64458),y=s(89910),A=s(45981),w=s(11933),W=s(35044);function S(e){var l,s;let{pipe:i,updatePipe:r,removePipe:o,designParams:d,sx:x}=e,p=(0,b.A)(),u=(0,W.GV)(e=>e.unit.currentUnit),{pressure:S,allowableStress:C,corrosionAllowance:D,e:I,w:P,gamma:T}=d,R=y.sR.length[u],k=R.unit,F=u===v.W.Metric?null==(l=y.hZ[i.nps])?void 0:l.toString():i.nps,M=A[u],N=null==M?void 0:M[F||""],B=N?Object.keys(N.schedules).sort((e,l)=>y.QX.indexOf(e)-y.QX.indexOf(l)):[],G=0;if(N&&N.schedules&&i.schedule in N.schedules){let e=N.schedules[i.schedule];G=null!=e?e:0}let z=u===v.W.Metric?y.sR.length.Metric.toImperial(G):G,O=R.to(z),E=(null==N?void 0:N.OD)||0,L={pressure:null!=S?S:0,outerDiameterInches:u===v.W.Metric?y.sR.length.Metric.toImperial(E):E,allowableStress:null!=C?C:0,e:null!=I?I:1,w:null!=P?P:1,gamma:null!=T?T:1,corrosionAllowanceInches:u===v.W.Metric?y.sR.length.Metric.toImperial(D):D,millTol:null!=(s=d.millTol)?s:0},V=(0,w.e)(L),U=R.to(V),Z=Object.keys(A.Imperial).sort((e,l)=>{let s=e=>{if(e.includes(" ")){let[l,s]=e.split(" "),[t,i]=s.split("/").map(Number);return Number(l)+t/i}if(!e.includes("/"))return Number(e);{let[l,s]=e.split("/").map(Number);return l/s}};return s(e)-s(l)});return(0,t.jsx)(c.A,{sx:{flex:1,borderRadius:2,border:"1px solid #ddd",boxShadow:"none",position:"relative",minWidth:450,...x},children:(0,t.jsxs)(m.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,t.jsxs)(n.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)(a.A,{variant:"h6",gutterBottom:!1,children:["Pipe — NPS ",i.nps,", Schedule ",i.schedule]}),(0,t.jsx)(h.A,{"aria-label":"remove pipe",onClick:()=>o(i.id),sx:{color:p.palette.error.main,p:.5},children:(0,t.jsx)(j.A,{})})]}),(0,t.jsxs)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:[(0,t.jsx)(f.A,{select:!0,label:"NPS",value:i.nps,onChange:e=>{var l,s;r(i.id,"nps",e.target.value);let t=u===v.W.Metric?null==(l=y.hZ[e.target.value])?void 0:l.toString():e.target.value,n=null==(s=A[u])?void 0:s[t||""];if(n){let e=Object.keys(n.schedules).sort()[0];e&&!n.schedules[i.schedule]&&r(i.id,"schedule",e)}},sx:{minWidth:120,flexGrow:1,flexBasis:"120px"},size:"small",children:Z.map(e=>(0,t.jsx)(g.A,{value:e,children:"".concat(e,'" (').concat(y.hZ[e]||"N/A"," DN)")},e))}),(0,t.jsx)(f.A,{select:!0,label:"Schedule",value:i.schedule,onChange:e=>r(i.id,"schedule",e.target.value),sx:{minWidth:120,flexGrow:1,flexBasis:"120px"},disabled:!N||0===B.length,size:"small",children:B.map(e=>(0,t.jsx)(g.A,{value:e,children:e},e))})]}),(0,t.jsx)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,t.jsx)(f.A,{label:"Outer Diameter, D (".concat(k,")"),value:E.toFixed(2),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,t.jsx)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,t.jsx)(f.A,{label:"Required Thickness, tᵣ (".concat(k,")"),value:U.toFixed(3),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,t.jsx)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:(0,t.jsx)(f.A,{label:"Schedule Thickness (".concat(k,")"),value:O.toFixed(3),size:"small",disabled:!0,sx:{minWidth:120,flexGrow:1,flexBasis:"120px"}})}),(0,t.jsxs)(a.A,{sx:{textAlign:"right"},children:[(0,t.jsx)("strong",{children:"Result:"})," ",z>=V?(0,t.jsx)("span",{style:{color:p.palette.success.main,fontWeight:"bold"},children:"ACCEPTABLE"}):(0,t.jsx)("span",{style:{color:p.palette.error.main,fontWeight:"bold"},children:"NOT ACCEPTABLE"})]})]})})}function C(){let e=(0,b.A)(),l=(0,W.GV)(e=>e.single.global.e),s=(0,W.GV)(e=>e.single.global.w),i=(0,W.GV)(e=>e.single.global.gamma),r=(0,W.GV)(e=>e.single.global.millTol);return(0,t.jsxs)(n.default,{sx:{backgroundColor:e.palette.background.default,p:2,borderRadius:1,overflow:"hidden"},children:[(0,t.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:"bold",mb:1},children:"Required Thickness (ASME B31.3):"}),(0,t.jsxs)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:[(0,t.jsx)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"tᵣ = ("}),(0,t.jsxs)(n.default,{sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:1},children:[(0,t.jsx)(n.default,{sx:{borderBottom:"1px solid ".concat(e.palette.text.primary," !important"),px:.5,textAlign:"center",whiteSpace:"nowrap"},children:"(P \xd7 D)"}),(0,t.jsx)(n.default,{sx:{px:.5,mt:.2,whiteSpace:"nowrap",textAlign:"center"},children:"[2(SEW + Pγ)]"})]}),(0,t.jsx)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"+ CA )"}),(0,t.jsx)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:"\xd7"}),(0,t.jsxs)(n.default,{sx:{display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:1,whiteSpace:"nowrap",ml:1},children:[(0,t.jsx)(n.default,{sx:{borderBottom:"1px solid ".concat(e.palette.text.primary," !important"),px:.5,mt:.3,textAlign:"center"},children:"1"}),(0,t.jsx)(n.default,{sx:{px:.5,mt:.2,textAlign:"center"},children:"(1 - Mill Tolerance)"})]})]}),(0,t.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:"bold",mb:1,mt:2},children:"Assumptions:"}),(0,t.jsx)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,t.jsxs)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Weld Joint Efficiency, E = ",(0,t.jsx)("strong",{children:l})]})}),(0,t.jsx)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,t.jsxs)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Weld Strength Reduction Factor, W = ",(0,t.jsx)("strong",{children:s})]})}),(0,t.jsx)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,t.jsxs)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Temperature Coefficient, γ = ",(0,t.jsx)("strong",{children:i})]})}),(0,t.jsx)(a.A,{component:"div",variant:"body2",color:"text.secondary",sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5,fontSize:{xs:"0.8rem",sm:"0.875rem"}},children:(0,t.jsxs)(a.A,{variant:"body2",component:"span",sx:{whiteSpace:"nowrap"},children:["Mill Tolerance Factor, % = ",(0,t.jsxs)("strong",{children:[100*r,"%"]})]})})]})}var D=s(34540);let I={display:"flex",alignItems:"center",marginBottom:8},P={fontWeight:"bold",minWidth:220,marginRight:8,whiteSpace:"nowrap"},T={minWidth:100,textAlign:"right",marginRight:8},R={minWidth:80},k=e=>{let{drawingInfo:l,designParamsSingle:s,designParamsMultiple:i,isMultiple:r=!1}=e,o=(0,D.d4)(e=>e.unit.currentUnit),d=y.sR.pressure[o],x=y.sR.temperature[o],c=y.sR.length[o],{pressure:p,temperature:u}=(0,D.d4)(e=>e.single);return(0,t.jsx)(n.default,{sx:{mb:4},children:(r?i||[]:s?[s]:[]).map((e,s)=>(0,t.jsxs)(n.default,{sx:{mb:2,borderBottom:"1px solid #ddd",pb:1},children:[(0,t.jsxs)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:1},children:[(0,t.jsx)(a.A,{fontWeight:"bold",children:"Drawing Number:"}),(0,t.jsx)(a.A,{children:l.drawingNumber}),(0,t.jsx)(a.A,{fontWeight:"bold",children:"Revision:"}),(0,t.jsxs)(a.A,{children:[l.calculationRevision,r?".".concat(s+1):""]}),(0,t.jsx)(a.A,{fontWeight:"bold",children:"Date:"}),(0,t.jsx)(a.A,{children:l.date})]}),(0,t.jsxs)("div",{style:I,children:[(0,t.jsx)("div",{style:P,children:"Design Pressure:"}),(0,t.jsx)("div",{style:T,children:d.to(p).toFixed(2)}),(0,t.jsx)("div",{style:R,children:d.unit})]}),(0,t.jsxs)("div",{style:I,children:[(0,t.jsx)("div",{style:P,children:"Design Temperature:"}),(0,t.jsx)("div",{style:T,children:x.to(u).toFixed(0)}),(0,t.jsx)("div",{style:R,children:x.unit})]}),(0,t.jsxs)("div",{style:I,children:[(0,t.jsx)("div",{style:P,children:"Corrosion Allowance:"}),(0,t.jsx)("div",{style:T,children:e.corrosionAllowance}),(0,t.jsx)("div",{style:R,children:c.unit})]}),(0,t.jsxs)("div",{style:I,children:[(0,t.jsx)("div",{style:P,children:"Maximum Allowable Stress:"}),(0,t.jsx)("div",{style:T,children:d.to(e.allowableStress).toFixed(2)}),(0,t.jsx)("div",{style:R,children:d.unit})]}),(0,t.jsxs)("div",{style:I,children:[(0,t.jsx)("div",{style:P,children:"Temperature Coefficient, γ:"}),(0,t.jsx)("div",{style:T,children:e.gamma}),(0,t.jsx)("div",{style:R})]})]},s))})},F={marginBottom:8,display:"block"},M={display:"inline-flex",flexDirection:"column",alignItems:"center",fontSize:12,lineHeight:1,marginLeft:4,marginRight:4},N={padding:"0 4px",textAlign:"center"},B=e=>{let{pipes:l,material:s,isMultiple:i}=e,n=(0,b.A)(),{pressure:r}=(0,D.d4)(e=>e.single),{corrosionAllowance:a,gamma:o,e:d,w:x,millTol:c}=(0,D.d4)(e=>e.single.global),p=(0,D.d4)(e=>e.unit.currentUnit),u=1-c,m={padding:"0 4px",marginTop:2,textAlign:"center",borderTop:"1px solid ".concat(n.palette.text.primary)};return(0,t.jsx)(t.Fragment,{children:l.map((e,l)=>{var h,f;let g=y.sR.length[p],j=y.sR.pressure[p],b=p===v.W.Metric?y.hZ[e.nps]:e.nps,W=null==(h=A[p])?void 0:h[b],S=(null==W?void 0:W.OD)||0,C=null==W||null==(f=W.schedules)?void 0:f[e.schedule],D=j.to(r),I=j.to(e.allowableStress),P=j.toImperial(r),T=j.toImperial(e.allowableStress),R=g.toImperial(S);console.log("P: "+P),console.log("OD: "+R),console.log("S: "+T),console.log("t: "+C),console.log("cora: "+a);let k=(0,w.e)({pressure:P,outerDiameterInches:R,allowableStress:T,e:d,w:x,gamma:o,corrosionAllowanceInches:a,millTol:c});console.log("Treq: "+k),console.log("isMultiple: "+i);let B=g.to(k),G=D*S,z=2*(I*d*x+D*o);return(0,t.jsxs)("div",{style:{borderTop:"1px solid ".concat(n.palette.divider),paddingTop:10,marginTop:16},children:[(0,t.jsxs)("div",{style:F,children:[(0,t.jsxs)("strong",{children:["Pipe ",l+1]})," — For NPS ",e.nps," SCH"," ",e.schedule," ",s," (D=",S.toFixed(3),g.unit,", t ="," ","number"==typeof C?C.toFixed(3):"N/A",g.unit,"):"]}),(0,t.jsxs)("div",{style:{marginTop:8,marginLeft:24},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"tᵣ = ("}),(0,t.jsxs)("span",{style:M,children:[(0,t.jsx)("span",{style:N,children:"P \xd7 D"}),(0,t.jsx)("span",{style:m,children:"2(SEW + Pγ)"})]}),(0,t.jsx)("span",{children:"+ CA ) \xd7 "}),(0,t.jsxs)("span",{style:M,children:[(0,t.jsx)("span",{style:N,children:"1"}),(0,t.jsx)("span",{style:m,children:"(1 - Mill Tolerance)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"tᵣ = ("}),(0,t.jsxs)("span",{style:M,children:[(0,t.jsxs)("span",{style:N,children:[D.toFixed(2),j.unit," \xd7"," ",S.toFixed(3),g.unit]}),(0,t.jsxs)("span",{style:m,children:["2((",I.toFixed(2),j.unit,")(",d,")(",x,") + (",D.toFixed(2),j.unit,")(",o,"))"]})]}),(0,t.jsxs)("span",{children:["+ ",a.toFixed(4),g.unit,") \xd7"," "]}),(0,t.jsxs)("span",{style:M,children:[(0,t.jsx)("span",{style:N,children:"1"}),(0,t.jsxs)("span",{style:m,children:["(1 - ",c.toFixed(3),")"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"tᵣ = ("}),(0,t.jsxs)("span",{style:M,children:[(0,t.jsx)("span",{style:N,children:G.toFixed(2)}),(0,t.jsx)("span",{style:m,children:z.toFixed(2)})]}),(0,t.jsxs)("span",{children:[g.unit," +"," ",a.toFixed(4),g.unit,") \xd7"," "]}),(0,t.jsxs)("span",{style:M,children:[(0,t.jsx)("span",{style:N,children:"1"}),(0,t.jsxs)("span",{style:m,children:["(",u.toFixed(3),")"]})]})]})]}),(0,t.jsx)("div",{style:{marginTop:8,marginLeft:24},children:(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:["tᵣ = ",B.toFixed(3)," ",g.unit]})})}),(0,t.jsx)("div",{style:{marginTop:8},children:(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:["t"," ",C>B?">":"<"," ","tᵣ ∴"," ",C>B?(0,t.jsx)("span",{style:{color:n.palette.success.main,fontWeight:"bold"},children:"Acceptable"}):(0,t.jsx)("span",{style:{color:n.palette.error.main,fontWeight:"bold"},children:"Not Acceptable"})]})})})]},e.id)})})},G=(0,i.forwardRef)((e,l)=>{let{drawingInfo:s,material:i,pipes:n,isMultiple:r=!1}=e,a=(0,b.A)(),o=(0,D.d4)(e=>e.single.global),d=(r?n:[n[0]]).filter(Boolean);return(0,t.jsxs)("div",{ref:l,style:{padding:10,maxWidth:600,fontSize:14,fontFamily:"'Calibri', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:a.palette.text.primary},children:[d.map((e,l)=>{var i,n,a;let d={pressure:null!=(i=e.pressure)?i:0,temperature:null!=(n=e.temperature)?n:0,allowableStress:null!=(a=e.allowableStress)?a:0,corrosionAllowance:o.corrosionAllowance,gamma:o.gamma,e:o.e,w:o.w,millTol:o.millTol};return(0,t.jsx)(k,{drawingInfo:{...s,calculationRevision:s.calculationRevision+(r?".".concat(l+1):"")},designParamsSingle:d},e.id)}),(0,t.jsx)(B,{pipes:n,material:i,isMultiple:r})]})});G.displayName="PdfContent";var z=s(84239);function O(e){let{pipes:l}=e,r=(0,i.useRef)(null),a=(0,D.d4)(e=>e.single.selectedMaterial),[o,d]=(0,i.useState)(""),[x,c]=(0,i.useState)("0"),[u,m]=(0,i.useState)("0"),[h,g]=(0,i.useState)(()=>new Date().toISOString().split("T")[0]),j=(0,i.useRef)(null);(0,i.useEffect)(()=>{Promise.all([s.e(930),s.e(628),s.e(316),s.e(913)]).then(s.t.bind(s,86608,23)).then(e=>{j.current=e.default||e})},[]);let b={xs:"1 1 100%",sm:"1 1 calc(50% - 8px)",md:"1 1 0%"};return(0,t.jsxs)(n.default,{sx:{mb:4,p:3,bgcolor:"background.paper",borderRadius:2,border:"1px solid #ddd"},children:[(0,t.jsxs)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[(0,t.jsx)(f.A,{label:"Drawing Number".concat(o?", ".concat(o):""),value:o,onChange:e=>d(e.target.value),size:"small",sx:{flex:b,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,t.jsx)(f.A,{label:"Drawing Revision Number",value:x,onChange:e=>c(e.target.value),size:"small",sx:{flex:b,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,t.jsx)(f.A,{label:"Calculation Revision Number",value:u,onChange:e=>m(e.target.value),size:"small",sx:{flex:b,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,t.jsx)(f.A,{label:"Date",type:"date",value:h,onChange:e=>g(e.target.value),size:"small",sx:{flex:b,minWidth:180},variant:"outlined",InputLabelProps:{shrink:!0}}),(0,t.jsx)(p.A,{variant:"outlined",startIcon:(0,t.jsx)(z.A,{}),onClick:()=>{r.current&&j.current&&j.current().set({margin:1,filename:"Drawing-".concat(o||"N/A","-Rev").concat(x||"0","-").concat(h,".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(r.current).save()},sx:{flex:b,minWidth:180},children:"Download PDF"})]}),(0,t.jsx)(G,{ref:r,drawingInfo:{drawingNumber:o,drawingRevision:x,calculationRevision:u,date:h},material:a,pipes:l})]})}var E=s(52145);let L={Metric:{label:"Up to 40",columns:[40,65,100,150,200,250,300,325,350,375,400,425,450,475,500,525,550,575,600],materials:{A106B:[138e3,138e3,138e3,138e3,138e3,132e3,126e3,122e3,118e3,113e3,95100,79500,62600,45e3,31700,21400,14200,9400,6890],A3336:[138e3,138e3,138e3,138e3,138e3,132e3,126e3,122e3,118e3,113e3,95100,79500,62600,45e3,31700,21400,14200,9400,6890],A312TP316L:[138e3,138e3,138e3,138e3,134e3,125e3,119e3,116e3,114e3,112e3,111e3,11e4,109e3,108e3,107e3,106e3,105e3,97800,80800],A312TP304L:[138e3,138e3,138e3,138e3,129e3,122e3,116e3,113e3,111e3,109e3,107e3,105e3,103e3,101e3,99100,97300]}},Imperial:{label:"Up to 100",columns:[100,200,300,400,500,600,650,700,750,800,850,900,950,1e3,1050,1100],materials:{A106B:[2e4,2e4,2e4,19900,19e3,17900,17300,16700,13900,11400,8700,5900,4e3,2500,1600,1e3],A3336:[2e4,2e4,2e4,19900,19e3,17900,17300,16700,13900,11400,8700,5900,4e3,2500,1600,1e3],A312TP316L:[2e4,2e4,2e4,19300,18e3,17e3,16600,16300,16100,15900,15700,15600,15400,15300,15100,12400],A312TP304L:[2e4,2e4,2e4,18600,17500,16600,16200,15800,15500,15200,14900,14600,14300,14e3,12400,9800]}}},V=(e,l,s)=>{let t=L[l===v.W.Metric?"Metric":"Imperial"],i=t.materials[e],n=t.columns,r=0;for(let e=0;e<n.length;e++)if(s>=n[e])r=e;else break;return i[r]};var U=s(81371);function Z(){let e=(0,W.jL)(),l=(0,i.useMemo)(()=>[...new Set([...Object.keys(L.Metric.materials),...Object.keys(L.Imperial.materials)])],[]),s=(0,W.GV)(U.Wg),r=(0,W.GV)(e=>e.single.pressure),o=(0,W.GV)(e=>e.single.temperature),d=(0,W.GV)(e=>e.unit.currentUnit),{corrosionAllowance:x}=(0,D.d4)(e=>e.single.global),c=l=>{e((0,U.eN)(l))},p=s?V(s,d,o):0;return(0,t.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,t.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,t.jsx)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"}},children:(0,t.jsx)(f.A,{select:!0,label:"Material",value:null!=s?s:"",onChange:e=>c(e.target.value),sx:{minWidth:200,flexGrow:1},size:"small",children:l.map(e=>(0,t.jsx)(g.A,{value:e,children:e},e))})}),(0,t.jsxs)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,t.jsx)(E.A,{label:"Design Pressure",symbol:"P",unit:y.sR.pressure[d].unit,value:r,onChange:l=>{e((0,U.ZZ)(l))},sx:{minWidth:140,flex:1}}),(0,t.jsx)(E.A,{label:"Temperature",symbol:"T",unit:y.sR.temperature[d].unit,value:o,onChange:l=>{e((0,U.C1)(l))},sx:{minWidth:140,flex:1}})]}),(0,t.jsxs)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:[(0,t.jsx)(E.A,{label:"Corrosion Allowance",symbol:"CA",unit:y.sR.length[d].unit,value:x,onChange:l=>e((0,U.w3)(l)),sx:{minWidth:140,flex:1},precision:4}),(0,t.jsx)(E.A,{label:"Allowable Stress",symbol:"S",unit:y.sR.pressure[d].unit,value:p,onChange:()=>{},disabled:!0,sx:{minWidth:140,flex:1},precision:2})]})]})}let _=e=>{let{}=e,l=(0,D.wA)(),{pipes:s,pressure:r,temperature:o,global:d}=(0,D.d4)(e=>e.single);(0,i.useEffect)(()=>{0===s.length&&l((0,U.CG)({id:(0,x.A)(),nps:"4",schedule:"40",od:"4.5"}))},[l,s.length]);let m=e=>{l((0,U.Px)(e))},h=(e,s,t)=>{l((0,U.ae)({pipeId:e,key:s,value:t}))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch",justifyContent:"center",mt:4},children:[(0,t.jsxs)(c.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,t.jsx)(Z,{}),(0,t.jsx)(n.default,{sx:{width:"100%",paddingTop:1.5},children:(0,t.jsx)(p.A,{startIcon:(0,t.jsx)(u.A,{}),variant:"outlined",onClick:()=>{l((0,U.CG)({id:(0,x.A)(),nps:"2",schedule:"40",od:"2.375"}))},fullWidth:!0,children:"Add Pipe"})})]}),(0,t.jsxs)(c.A,{sx:{flex:1,maxWidth:{md:650},display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,t.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Formula"}),(0,t.jsx)(C,{})]})]}),(0,t.jsx)(n.default,{sx:{mt:4,display:"flex",flexDirection:"column",gap:2},children:s.map(e=>{let l={pressure:r,temperature:o,allowableStress:e.allowableStress,corrosionAllowance:d.corrosionAllowance,gamma:d.gamma,millTol:d.millTol,e:d.e,w:d.w};return(0,t.jsx)(S,{pipe:e,updatePipe:h,removePipe:m,designParams:l},e.id)})}),(0,t.jsx)(n.default,{sx:{mt:4},children:(0,t.jsx)(O,{pipes:s})})]})};var q=s(83527);function H(e){let{pipeId:l}=e,s=(0,D.wA)(),r=(0,D.d4)(e=>e.unit.currentUnit),o=(0,D.d4)(e=>e.multiple.pipes.find(e=>e.pipe.id===l)),d=(0,i.useMemo)(()=>Array.from(new Set([...Object.keys(L.Metric.materials),...Object.keys(L.Imperial.materials)])),[]),x=(0,i.useMemo)(()=>{if(!o||!o.material)return 0;let{material:e,temperature:l}=o,s="Metric"===r?L.Metric:L.Imperial,t=s.columns,i=s.materials[e],n=i[0];for(let e=0;e<t.length;e++)if(l>=t[e])n=i[e];else break;return n},[o,r]);if(!o)return null;let{material:c,pressure:p,temperature:u}=o;return(0,t.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,t.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,t.jsx)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"}},children:(0,t.jsx)(f.A,{select:!0,label:"Material",value:c,onChange:e=>s((0,q.Vu)({pipeId:l,material:e.target.value})),sx:{minWidth:200,flexGrow:1},size:"small",children:d.map(e=>(0,t.jsx)(g.A,{value:e,children:e},e))})}),(0,t.jsxs)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"}},children:[(0,t.jsx)(E.A,{label:"Design Pressure",symbol:"P",unit:y.sR.pressure[r].unit,value:p,onChange:e=>s((0,q.JF)({pipeId:l,pressure:e})),sx:{minWidth:140,flex:1}}),(0,t.jsx)(E.A,{label:"Temperature",symbol:"T",unit:y.sR.temperature[r].unit,value:u,onChange:e=>s((0,q.Ol)({pipeId:l,temperature:e})),sx:{minWidth:140,flex:1}})]}),(0,t.jsx)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"}},children:(0,t.jsx)(E.A,{label:"Allowable Stress",symbol:"S",unit:y.sR.pressure[r].unit,value:x,onChange:()=>{},disabled:!0,sx:{minWidth:140,flex:1}})})]})}function J(){let e=(0,D.wA)(),l=(0,D.d4)(e=>e.multiple.global.corrosionAllowance),s=(0,D.d4)(e=>e.unit.currentUnit);return(0,t.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[(0,t.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Design Parameters"}),(0,t.jsx)(n.default,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"flex-start",flexDirection:{xs:"column",sm:"row"}},children:(0,t.jsx)(E.A,{label:"Corrosion Allowance",symbol:"CA",unit:y.sR.length[s].unit,value:l,onChange:l=>{e((0,q.w3)(l))},sx:{minWidth:140,flex:1},precision:4})})]})}let Q=()=>{let e=(0,D.wA)(),l=(0,D.d4)(e=>e.multiple.pipes),{corrosionAllowance:s,gamma:r,e:o,w:d,millTol:m}=(0,D.d4)(e=>e.single.global);(0,i.useEffect)(()=>{0===l.length&&e((0,q.mC)({pipe:{id:(0,x.A)(),nps:"4",schedule:"40",od:"4.5"},material:"A106B",pressure:1414,temperature:100}))},[e,l.length]);let h=l=>{e((0,q.hy)(l))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch",justifyContent:"center",mt:4},children:[(0,t.jsxs)(c.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,t.jsx)(J,{}),(0,t.jsx)(n.default,{sx:{mt:"auto",width:"100%"},children:(0,t.jsx)(p.A,{startIcon:(0,t.jsx)(u.A,{}),variant:"outlined",onClick:()=>{e((0,q.mC)({pipe:{id:(0,x.A)(),nps:"4",schedule:"40",od:"4.5"},material:"A106B",pressure:0,temperature:0}))},fullWidth:!0,children:"Add Pipe"})})]}),(0,t.jsxs)(c.A,{sx:{flex:1,maxWidth:{md:650},display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:[(0,t.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Formula"}),(0,t.jsx)(C,{})]})]}),l.map(l=>(0,t.jsx)(n.default,{sx:{mt:4,display:"flex",flexDirection:"column",gap:2},children:(0,t.jsxs)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,alignItems:"stretch"},children:[(0,t.jsx)(c.A,{sx:{flex:1,minWidth:450,display:"flex",flexDirection:"column",p:2,gap:2,height:305,border:"1px solid #ddd"},elevation:0,children:(0,t.jsx)(H,{pipeId:l.pipe.id})}),(0,t.jsx)(S,{pipe:l.pipe,updatePipe:(l,s,t)=>e((0,q.OU)({pipeId:l,key:s,value:t})),removePipe:()=>h(l.pipe.id),designParams:{pressure:l.pressure,temperature:l.temperature,allowableStress:l.pipe.allowableStress,corrosionAllowance:s,gamma:r,e:o,w:d,millTol:m}})]})},l.pipe.id)),(0,t.jsx)(n.default,{sx:{mt:6},children:(0,t.jsx)(O,{pipes:l.map(e=>e.pipe)})})]})};var X=s(61899);function K(){let[e,l]=(0,i.useState)(0);return(0,t.jsx)(n.default,{sx:{width:"100%",ml:0},children:(0,t.jsxs)(r.A,{maxWidth:"lg",disableGutters:!0,children:[(0,t.jsx)(a.A,{variant:"h4",fontWeight:"bold",align:"left",gutterBottom:!0,children:"B31.3 Pipe Thickness Calculator"}),(0,t.jsxs)(n.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:{xs:"flex-start",md:"space-between"},alignItems:{xs:"flex-start",md:"center"},gap:{xs:2,md:0},mt:2,mb:2},children:[(0,t.jsxs)(o.A,{value:e,onChange:(e,s)=>l(s),textColor:"primary",indicatorColor:"primary",variant:"scrollable",scrollButtons:"auto",children:[(0,t.jsx)(d.A,{label:"Single Pressure"}),(0,t.jsx)(d.A,{label:"Multiple Pressure"})]}),(0,t.jsx)(X.A,{})]}),0===e&&(0,t.jsx)(_,{}),1===e&&(0,t.jsx)(Q,{})]})})}},52145:(e,l,s)=>{"use strict";s.d(l,{A:()=>r});var t=s(95155),i=s(12115),n=s(84602);function r(e){let{label:l,symbol:s,unit:r,value:a,onChange:o,disabled:d=!1,step:x=.01,min:c,max:p,sx:u={},fullWidth:m=!1,percentage:h=!1,precision:f=2,conversionFactorFromBase:g=1,conversionFactorToBase:j=1}=e,b=(0,i.useRef)(null),v=e=>{if(null==e||isNaN(e))return"";let l=e*g;return h?"".concat((100*l).toFixed(2)):l.toFixed(f)},[y,A]=(0,i.useState)(()=>v(a));(0,i.useEffect)(()=>{b.current&&document.activeElement!==b.current&&A(v(a))},[a,h,f,g]);let w=()=>{let e=parseFloat(y.replace(/[^0-9.-]/g,""));isNaN(e)?null==a||isNaN(a)?A(""):A(v(a)):(o(h?e/100:e*j),A(v(e/j)))};return(0,t.jsx)(n.A,{label:"".concat(l).concat(s?", ".concat(s):"").concat(r?" (".concat(r,")"):""),value:y,onChange:e=>{let l=e.target.value;A(l);let s=parseFloat(l.replace(/[^0-9.-]/g,""));isNaN(s)||o(h?s/100:s*j)},onBlur:w,onKeyDown:e=>{if("Enter"===e.key){var l;w(),null==(l=b.current)||l.blur()}},size:"small",disabled:d,inputProps:{step:x,min:c,max:p},sx:{minWidth:180,...u,"& input[type=number]::-webkit-inner-spin-button":{WebkitAppearance:"none"}},fullWidth:m,type:"number",InputLabelProps:{shrink:!0},inputRef:b})}},61899:(e,l,s)=>{"use strict";s.d(l,{A:()=>c});var t=s(95155);s(12115);var i=s(16324),n=s(27943),r=s(16950),a=s(97644),o=s(64458),d=s(52381),x=s(34540);function c(){let e=(0,i.A)(),l=(0,x.wA)(),s=(0,x.d4)(d.xb),c=(0,n.A)(e.breakpoints.down("md"));return(0,t.jsxs)(r.A,{value:s,exclusive:!0,onChange:(e,s)=>{s&&l((0,d.bp)(s))},sx:{display:{xs:"flex",sm:"flex"},width:{xs:"100%"},[e.breakpoints.up("sm")]:{flex:1},justifyContent:{md:"flex-end"}},children:[(0,t.jsx)(a.A,{value:o.W.Imperial,sx:{flexGrow:+!!c},children:"Imperial"}),(0,t.jsx)(a.A,{value:o.W.Metric,sx:{flexGrow:+!!c},children:"Metric"})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[349,584,949,396,216,350,44,441,684,358],()=>l(24343)),_N_E=e.O()}]);